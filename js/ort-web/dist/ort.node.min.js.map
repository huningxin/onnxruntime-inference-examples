{
  "version": 3,
  "sources": ["../lib/wasm/binding/ort-wasm.js", "../lib/wasm/wasm-factory.ts", "../lib/wasm/wasm-utils.ts", "../lib/wasm/run-options.ts", "../lib/wasm/session-options.ts", "../lib/wasm/wasm-common.ts", "../lib/wasm/wasm-utils-load-file.ts", "../lib/wasm/wasm-core-impl.ts", "../lib/wasm/proxy-wrapper.ts", "../lib/wasm/session-handler-inference.ts", "../lib/backend-wasm.ts", "../lib/backend-wasm-inference.ts", "../lib/index.ts", "../lib/version.ts"],
  "sourcesContent": ["\nvar ortWasm = (() => {\n  var _scriptDir = typeof document != 'undefined' ? document.currentScript?.src : undefined;\n  if (typeof __filename != 'undefined') _scriptDir ||= __filename;\n  return (\nfunction(moduleArg = {}) {\n\nvar f=moduleArg,k,l,readyPromise=new Promise((a,b)=>{k=a;l=b}),u=Object.assign({},f),v=\"./this.program\",aa=\"object\"==typeof window,w=\"function\"==typeof importScripts,ba=\"object\"==typeof process&&\"object\"==typeof process.versions&&\"string\"==typeof process.versions.node,z=\"\",A,B,C;\nif(ba){var fs=require(\"fs\"),D=require(\"path\");z=w?D.dirname(z)+\"/\":__dirname+\"/\";A=(a,b)=>{a=E(a)?new URL(a):D.normalize(a);return fs.readFileSync(a,b?void 0:\"utf8\")};C=a=>{a=A(a,!0);a.buffer||(a=new Uint8Array(a));return a};B=(a,b,c,e=!0)=>{a=E(a)?new URL(a):D.normalize(a);fs.readFile(a,e?void 0:\"utf8\",(g,h)=>{g?c(g):b(e?h.buffer:h)})};!f.thisProgram&&1<process.argv.length&&(v=process.argv[1].replace(/\\\\/g,\"/\"));process.argv.slice(2)}else if(aa||w)w?z=self.location.href:\"undefined\"!=typeof document&&\ndocument.currentScript&&(z=document.currentScript.src),_scriptDir&&(z=_scriptDir),z.startsWith(\"blob:\")?z=\"\":z=z.substr(0,z.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1),A=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.send(null);return b.responseText},w&&(C=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.responseType=\"arraybuffer\";b.send(null);return new Uint8Array(b.response)}),B=(a,b,c)=>{var e=new XMLHttpRequest;e.open(\"GET\",a,!0);e.responseType=\"arraybuffer\";e.onload=()=>{200==e.status||0==e.status&&\ne.response?b(e.response):c()};e.onerror=c;e.send(null)};var ca=console.log.bind(console),F=console.error.bind(console);Object.assign(f,u);u=null;var G,da=!1,H,I,J,K,ea;function fa(){var a=G.buffer;f.HEAP8=H=new Int8Array(a);f.HEAP16=new Int16Array(a);f.HEAPU8=I=new Uint8Array(a);f.HEAPU16=new Uint16Array(a);f.HEAP32=J=new Int32Array(a);f.HEAPU32=K=new Uint32Array(a);f.HEAPF32=new Float32Array(a);f.HEAPF64=ea=new Float64Array(a)}var L=[],M=[],ha=[],N=0,O=null,P=null;\nfunction ia(a){a=\"Aborted(\"+a+\")\";F(a);da=!0;a=new WebAssembly.RuntimeError(a+\". Build with -sASSERTIONS for more info.\");l(a);throw a;}var ja=a=>a.startsWith(\"data:application/octet-stream;base64,\"),E=a=>a.startsWith(\"file://\"),Q;Q=\"ort-wasm.wasm\";if(!ja(Q)){var ka=Q;Q=f.locateFile?f.locateFile(ka,z):z+ka}function la(a){if(C)return C(a);throw\"both async and sync fetching of the wasm failed\";}\nfunction ma(a){if(aa||w){if(\"function\"==typeof fetch&&!E(a))return fetch(a,{credentials:\"same-origin\"}).then(b=>{if(!b.ok)throw`failed to load wasm binary file at '${a}'`;return b.arrayBuffer()}).catch(()=>la(a));if(B)return new Promise((b,c)=>{B(a,e=>b(new Uint8Array(e)),c)})}return Promise.resolve().then(()=>la(a))}function na(a,b,c){return ma(a).then(e=>WebAssembly.instantiate(e,b)).then(c,e=>{F(`failed to asynchronously prepare wasm: ${e}`);ia(e)})}\nfunction oa(a,b){var c=Q;return\"function\"!=typeof WebAssembly.instantiateStreaming||ja(c)||E(c)||ba||\"function\"!=typeof fetch?na(c,a,b):fetch(c,{credentials:\"same-origin\"}).then(e=>WebAssembly.instantiateStreaming(e,a).then(b,function(g){F(`wasm streaming compile failed: ${g}`);F(\"falling back to ArrayBuffer instantiation\");return na(c,a,b)}))}\nvar R,pa={797656:(a,b,c,e)=>{if(\"undefined\"==typeof f||!f.ya)return 1;a=S(a>>>0);a.startsWith(\"./\")&&(a=a.substring(2));a=f.ya.get(a);if(!a)return 2;b>>>=0;c>>>=0;if(b+c>a.byteLength)return 3;try{return I.set(a.subarray(b,b+c),e>>>0>>>0),0}catch{return 4}}};class qa{constructor(a){this.wa=a-24}}\nvar ra=0,sa=0,ta=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0,ua=(a,b,c)=>{b>>>=0;var e=b+c;for(c=b;a[c]&&!(c>=e);)++c;if(16<c-b&&a.buffer&&ta)return ta.decode(a.subarray(b,c));for(e=\"\";b<c;){var g=a[b++];if(g&128){var h=a[b++]&63;if(192==(g&224))e+=String.fromCharCode((g&31)<<6|h);else{var m=a[b++]&63;g=224==(g&240)?(g&15)<<12|h<<6|m:(g&7)<<18|h<<12|m<<6|a[b++]&63;65536>g?e+=String.fromCharCode(g):(g-=65536,e+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else e+=String.fromCharCode(g)}return e},\nS=(a,b)=>(a>>>=0)?ua(I,a,b):\"\",va=a=>{for(var b=0,c=0;c<a.length;++c){var e=a.charCodeAt(c);127>=e?b++:2047>=e?b+=2:55296<=e&&57343>=e?(b+=4,++c):b+=3}return b},T=(a,b,c,e)=>{c>>>=0;if(!(0<e))return 0;var g=c;e=c+e-1;for(var h=0;h<a.length;++h){var m=a.charCodeAt(h);if(55296<=m&&57343>=m){var q=a.charCodeAt(++h);m=65536+((m&1023)<<10)|q&1023}if(127>=m){if(c>=e)break;b[c++>>>0]=m}else{if(2047>=m){if(c+1>=e)break;b[c++>>>0]=192|m>>6}else{if(65535>=m){if(c+2>=e)break;b[c++>>>0]=224|m>>12}else{if(c+3>=\ne)break;b[c++>>>0]=240|m>>18;b[c++>>>0]=128|m>>12&63}b[c++>>>0]=128|m>>6&63}b[c++>>>0]=128|m&63}}b[c>>>0]=0;return c-g},U=a=>0===a%4&&(0!==a%100||0===a%400),za=[0,31,60,91,121,152,182,213,244,274,305,335],Aa=[0,31,59,90,120,151,181,212,243,273,304,334],V=[],W={},Ba=()=>{if(!X){var a={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"==typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:v||\"./this.program\"},b;for(b in W)void 0===\nW[b]?delete a[b]:a[b]=W[b];var c=[];for(b in a)c.push(`${b}=${a[b]}`);X=c}return X},X,Ca=[null,[],[]],Da=[31,29,31,30,31,30,31,31,30,31,30,31],Ea=[31,28,31,30,31,30,31,31,30,31,30,31];function Fa(a){var b=Array(va(a)+1);T(a,b,0,b.length);return b}\nfunction Ga(a,b,c,e){function g(d,n,p){for(d=\"number\"==typeof d?d.toString():d||\"\";d.length<n;)d=p[0]+d;return d}function h(d,n){return g(d,n,\"0\")}function m(d,n){function p(wa){return 0>wa?-1:0<wa?1:0}var y;0===(y=p(d.getFullYear()-n.getFullYear()))&&0===(y=p(d.getMonth()-n.getMonth()))&&(y=p(d.getDate()-n.getDate()));return y}function q(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),\n0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function x(d){var n=d.sa;for(d=new Date((new Date(d.ta+1900,0,1)).getTime());0<n;){var p=d.getMonth(),y=(U(d.getFullYear())?Da:Ea)[p];if(n>y-d.getDate())n-=y-d.getDate()+1,d.setDate(1),11>p?d.setMonth(p+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+n);break}}p=new Date(d.getFullYear()+1,0,4);n=q(new Date(d.getFullYear(),\n0,4));p=q(p);return 0>=m(n,d)?0>=m(p,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}a>>>=0;b>>>=0;c>>>=0;e>>>=0;var r=K[e+40>>>2>>>0];e={Ba:J[e>>>2>>>0],Aa:J[e+4>>>2>>>0],ua:J[e+8>>>2>>>0],xa:J[e+12>>>2>>>0],va:J[e+16>>>2>>>0],ta:J[e+20>>>2>>>0],na:J[e+24>>>2>>>0],sa:J[e+28>>>2>>>0],Da:J[e+32>>>2>>>0],za:J[e+36>>>2>>>0],Ca:r?S(r):\"\"};c=S(c);r={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\"%X\":\"%H:%M:%S\",\n\"%Ec\":\"%c\",\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var t in r)c=c.replace(new RegExp(t,\"g\"),r[t]);var xa=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),ya=\"January February March April May June July August September October November December\".split(\" \");r={\"%a\":d=>xa[d.na].substring(0,3),\"%A\":d=>xa[d.na],\n\"%b\":d=>ya[d.va].substring(0,3),\"%B\":d=>ya[d.va],\"%C\":d=>h((d.ta+1900)/100|0,2),\"%d\":d=>h(d.xa,2),\"%e\":d=>g(d.xa,2,\" \"),\"%g\":d=>x(d).toString().substring(2),\"%G\":x,\"%H\":d=>h(d.ua,2),\"%I\":d=>{d=d.ua;0==d?d=12:12<d&&(d-=12);return h(d,2)},\"%j\":d=>{for(var n=0,p=0;p<=d.va-1;n+=(U(d.ta+1900)?Da:Ea)[p++]);return h(d.xa+n,3)},\"%m\":d=>h(d.va+1,2),\"%M\":d=>h(d.Aa,2),\"%n\":()=>\"\\n\",\"%p\":d=>0<=d.ua&&12>d.ua?\"AM\":\"PM\",\"%S\":d=>h(d.Ba,2),\"%t\":()=>\"\\t\",\"%u\":d=>d.na||7,\"%U\":d=>h(Math.floor((d.sa+7-d.na)/7),2),\"%V\":d=>\n{var n=Math.floor((d.sa+7-(d.na+6)%7)/7);2>=(d.na+371-d.sa-2)%7&&n++;if(n)53==n&&(p=(d.na+371-d.sa)%7,4==p||3==p&&U(d.ta)||(n=1));else{n=52;var p=(d.na+7-d.sa-1)%7;(4==p||5==p&&U(d.ta%400-1))&&n++}return h(n,2)},\"%w\":d=>d.na,\"%W\":d=>h(Math.floor((d.sa+7-(d.na+6)%7)/7),2),\"%y\":d=>(d.ta+1900).toString().substring(2),\"%Y\":d=>d.ta+1900,\"%z\":d=>{d=d.za;var n=0<=d;d=Math.abs(d)/60;return(n?\"+\":\"-\")+String(\"0000\"+(d/60*100+d%60)).slice(-4)},\"%Z\":d=>d.Ca,\"%%\":()=>\"%\"};c=c.replace(/%%/g,\"\\x00\\x00\");for(t in r)c.includes(t)&&\n(c=c.replace(new RegExp(t,\"g\"),r[t](e)));c=c.replace(/\\0\\0/g,\"%\");t=Fa(c);if(t.length>b)return 0;H.set(t,a>>>0);return t.length-1}\nvar Ia={a:function(a,b,c){a>>>=0;var e=new qa(a);K[e.wa+16>>>2>>>0]=0;K[e.wa+4>>>2>>>0]=b>>>0;K[e.wa+8>>>2>>>0]=c>>>0;ra=a;sa++;throw ra;},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,I:function(a,b,c){b>>>=0;return I.copyWithin(a>>>0>>>0,b>>>0,b+(c>>>0)>>>0)},n:function(a,b,c){a=b+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*b:\nNaN;c>>>=0;a=new Date(1E3*a);J[c>>>2>>>0]=a.getUTCSeconds();J[c+4>>>2>>>0]=a.getUTCMinutes();J[c+8>>>2>>>0]=a.getUTCHours();J[c+12>>>2>>>0]=a.getUTCDate();J[c+16>>>2>>>0]=a.getUTCMonth();J[c+20>>>2>>>0]=a.getUTCFullYear()-1900;J[c+24>>>2>>>0]=a.getUTCDay();J[c+28>>>2>>>0]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864E5|0},o:function(a,b,c){a=b+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*b:NaN;c>>>=0;a=new Date(1E3*a);J[c>>>2>>>0]=a.getSeconds();J[c+4>>>2>>>0]=a.getMinutes();J[c+8>>>2>>>\n0]=a.getHours();J[c+12>>>2>>>0]=a.getDate();J[c+16>>>2>>>0]=a.getMonth();J[c+20>>>2>>>0]=a.getFullYear()-1900;J[c+24>>>2>>>0]=a.getDay();J[c+28>>>2>>>0]=(U(a.getFullYear())?za:Aa)[a.getMonth()]+a.getDate()-1|0;J[c+36>>>2>>>0]=-(60*a.getTimezoneOffset());b=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();var e=(new Date(a.getFullYear(),0,1)).getTimezoneOffset();J[c+32>>>2>>>0]=(b!=e&&a.getTimezoneOffset()==Math.min(e,b))|0},p:function(a){a>>>=0;var b=new Date(J[a+20>>>2>>>0]+1900,J[a+16>>>2>>>0],\nJ[a+12>>>2>>>0],J[a+8>>>2>>>0],J[a+4>>>2>>>0],J[a>>>2>>>0],0),c=J[a+32>>>2>>>0],e=b.getTimezoneOffset(),g=(new Date(b.getFullYear(),6,1)).getTimezoneOffset(),h=(new Date(b.getFullYear(),0,1)).getTimezoneOffset(),m=Math.min(h,g);0>c?J[a+32>>>2>>>0]=Number(g!=h&&m==e):0<c!=(m==e)&&(g=Math.max(h,g),b.setTime(b.getTime()+6E4*((0<c?m:g)-e)));J[a+24>>>2>>>0]=b.getDay();J[a+28>>>2>>>0]=(U(b.getFullYear())?za:Aa)[b.getMonth()]+b.getDate()-1|0;J[a>>>2>>>0]=b.getSeconds();J[a+4>>>2>>>0]=b.getMinutes();J[a+\n8>>>2>>>0]=b.getHours();J[a+12>>>2>>>0]=b.getDate();J[a+16>>>2>>>0]=b.getMonth();J[a+20>>>2>>>0]=b.getYear();a=b.getTime();a=isNaN(a)?-1:a/1E3;Ha((R=a,1<=+Math.abs(R)?0<R?+Math.floor(R/4294967296)>>>0:~~+Math.ceil((R-+(~~R>>>0))/4294967296)>>>0:0));return a>>>0},l:function(){return-52},m:function(){},t:function(a,b,c,e){c>>>=0;e>>>=0;var g=(new Date).getFullYear(),h=new Date(g,0,1),m=new Date(g,6,1);g=h.getTimezoneOffset();var q=m.getTimezoneOffset();K[a>>>0>>>2>>>0]=60*Math.max(g,q);J[b>>>0>>>2>>>\n0]=Number(g!=q);a=x=>x.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:\"short\"}).split(\" \")[1];h=a(h);m=a(m);q<g?(T(h,I,c,17),T(m,I,e,17)):(T(h,I,e,17),T(m,I,c,17))},d:()=>{ia(\"\")},B:function(a,b,c){a>>>=0;b>>>=0;c>>>=0;V.length=0;for(var e;e=I[b++>>>0];){var g=105!=e;g&=112!=e;c+=g&&c%8?4:0;V.push(112==e?K[c>>>2>>>0]:105==e?J[c>>>2>>>0]:ea[c>>>3>>>0]);c+=g?8:4}return pa[a](...V)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),s:function(a){a>>>=0;var b=I.length;if(4294901760<\na)return!1;for(var c=1;4>=c;c*=2){var e=b*(1+.2/c);e=Math.min(e,a+100663296);var g=Math;e=Math.max(a,e);a:{g=(g.min.call(g,4294901760,e+(65536-e%65536)%65536)-G.buffer.byteLength+65535)/65536;try{G.grow(g);fa();var h=1;break a}catch(m){}h=void 0}if(h)return!0}return!1},C:function(a,b){a>>>=0;b>>>=0;var c=0;Ba().forEach((e,g)=>{var h=b+c;g=K[a+4*g>>>2>>>0]=h;for(h=0;h<e.length;++h)H[g++>>>0]=e.charCodeAt(h);H[g>>>0]=0;c+=e.length+1});return 0},D:function(a,b){a>>>=0;b>>>=0;var c=Ba();K[a>>>2>>>0]=\nc.length;var e=0;c.forEach(g=>e+=g.length+1);K[b>>>2>>>0]=e;return 0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(a,b,c,e){b>>>=0;c>>>=0;e>>>=0;for(var g=0,h=0;h<c;h++){var m=K[b>>>2>>>0],q=K[b+4>>>2>>>0];b+=8;for(var x=0;x<q;x++){var r=I[m+x>>>0],t=Ca[a];0===r||10===r?((1===a?ca:F)(ua(t,0)),t.length=0):t.push(r)}g+=q}K[e>>>2>>>0]=g;return 0},r:Ga,c:function(a,b,c,e){return Ga(a>>>0,b>>>0,c>>>0,e>>>0)}},Y=function(){function a(c){Y=c.exports;Y=Ja();G=Y.K;fa();M.unshift(Y.L);\nN--;0==N&&(null!==O&&(clearInterval(O),O=null),P&&(c=P,P=null,c()));return Y}var b={a:Ia};N++;if(f.instantiateWasm)try{return f.instantiateWasm(b,a)}catch(c){F(`Module.instantiateWasm callback failed with error: ${c}`),l(c)}oa(b,function(c){a(c.instance)}).catch(l);return{}}();f._OrtInit=(a,b)=>(f._OrtInit=Y.M)(a,b);f._OrtGetLastError=(a,b)=>(f._OrtGetLastError=Y.N)(a,b);f._OrtCreateSessionOptions=(a,b,c,e,g,h,m,q,x,r)=>(f._OrtCreateSessionOptions=Y.O)(a,b,c,e,g,h,m,q,x,r);\nf._OrtAppendExecutionProvider=(a,b)=>(f._OrtAppendExecutionProvider=Y.P)(a,b);f._OrtAddFreeDimensionOverride=(a,b,c)=>(f._OrtAddFreeDimensionOverride=Y.Q)(a,b,c);f._OrtAddSessionConfigEntry=(a,b,c)=>(f._OrtAddSessionConfigEntry=Y.R)(a,b,c);f._OrtReleaseSessionOptions=a=>(f._OrtReleaseSessionOptions=Y.S)(a);f._OrtCreateSession=(a,b,c)=>(f._OrtCreateSession=Y.T)(a,b,c);f._OrtReleaseSession=a=>(f._OrtReleaseSession=Y.U)(a);f._OrtGetInputOutputCount=(a,b,c)=>(f._OrtGetInputOutputCount=Y.V)(a,b,c);\nf._OrtGetInputName=(a,b)=>(f._OrtGetInputName=Y.W)(a,b);f._OrtGetOutputName=(a,b)=>(f._OrtGetOutputName=Y.X)(a,b);f._OrtFree=a=>(f._OrtFree=Y.Y)(a);f._OrtCreateTensor=(a,b,c,e,g,h)=>(f._OrtCreateTensor=Y.Z)(a,b,c,e,g,h);f._OrtGetTensorData=(a,b,c,e,g)=>(f._OrtGetTensorData=Y._)(a,b,c,e,g);f._OrtReleaseTensor=a=>(f._OrtReleaseTensor=Y.$)(a);f._OrtCreateRunOptions=(a,b,c,e)=>(f._OrtCreateRunOptions=Y.aa)(a,b,c,e);f._OrtAddRunConfigEntry=(a,b,c)=>(f._OrtAddRunConfigEntry=Y.ba)(a,b,c);\nf._OrtReleaseRunOptions=a=>(f._OrtReleaseRunOptions=Y.ca)(a);f._OrtCreateBinding=a=>(f._OrtCreateBinding=Y.da)(a);f._OrtBindInput=(a,b,c)=>(f._OrtBindInput=Y.ea)(a,b,c);f._OrtBindOutput=(a,b,c,e)=>(f._OrtBindOutput=Y.fa)(a,b,c,e);f._OrtClearBoundOutputs=a=>(f._OrtClearBoundOutputs=Y.ga)(a);f._OrtReleaseBinding=a=>(f._OrtReleaseBinding=Y.ha)(a);f._OrtRunWithBinding=(a,b,c,e,g)=>(f._OrtRunWithBinding=Y.ia)(a,b,c,e,g);f._OrtRun=(a,b,c,e,g,h,m,q)=>(f._OrtRun=Y.ja)(a,b,c,e,g,h,m,q);\nf._OrtEndProfiling=a=>(f._OrtEndProfiling=Y.ka)(a);f._malloc=a=>(f._malloc=Y.la)(a);f._free=a=>(f._free=Y.ma)(a);var Ha=a=>(Ha=Y.oa)(a),Ka=a=>(Ka=Y.pa)(a),La=a=>(La=Y.qa)(a),Ma=()=>(Ma=Y.ra)();function Ja(){var a=Y;a=Object.assign({},a);var b=c=>e=>c(e)>>>0;a.la=b(a.la);a.qa=b(a.qa);a.ra=(c=>()=>c()>>>0)(a.ra);return a}f.stackSave=()=>Ma();f.stackRestore=a=>Ka(a);f.stackAlloc=a=>La(a);f.UTF8ToString=S;f.stringToUTF8=(a,b,c)=>T(a,I,b,c);f.lengthBytesUTF8=va;var Z;P=function Na(){Z||Oa();Z||(P=Na)};\nfunction Oa(){if(!(0<N)){if(f.preRun)for(\"function\"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;){var a=f.preRun.shift();L.unshift(a)}for(;0<L.length;)L.shift()(f);if(!(0<N||Z||(Z=!0,f.calledRun=!0,da))){for(;0<M.length;)M.shift()(f);for(k(f);0<ha.length;)ha.shift()(f)}}}Oa();\n\n\n  return readyPromise\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n  module.exports = ortWasm;\nelse if (typeof define === 'function' && define['amd'])\n  define([], () => ortWasm);\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport * as path from 'node:path';\r\nimport {Env} from 'onnxruntime-common';\r\n\r\nimport {OrtWasmModule} from './binding/ort-wasm';\r\nimport {OrtWasmThreadedModule} from './binding/ort-wasm-threaded';\r\n\r\n/* eslint-disable @typescript-eslint/no-require-imports */\r\nlet ortWasmFactory: EmscriptenModuleFactory<OrtWasmModule>;\r\n\r\nif (!BUILD_DEFS.DISABLE_TRAINING) {\r\n  ortWasmFactory = require('./binding/ort-training-wasm-simd.js');\r\n} else {\r\n  ortWasmFactory =\r\n      BUILD_DEFS.DISABLE_WEBGPU ? require('./binding/ort-wasm.js') : require('./binding/ort-wasm-simd.jsep.js');\r\n}\r\n\r\nconst ortWasmFactoryThreaded: EmscriptenModuleFactory<OrtWasmModule> = !BUILD_DEFS.DISABLE_WASM_THREAD ?\r\n    (BUILD_DEFS.DISABLE_WEBGPU ? require('./binding/ort-wasm-threaded.js') :\r\n                                 require('./binding/ort-wasm-simd-threaded.jsep.js')) :\r\n    ortWasmFactory;\r\n/* eslint-enable @typescript-eslint/no-require-imports */\r\n\r\nlet wasm: OrtWasmModule|undefined;\r\nlet initialized = false;\r\nlet initializing = false;\r\nlet aborted = false;\r\n\r\nconst isMultiThreadSupported = (numThreads: number): boolean => {\r\n  // WebAssembly threads are set to 1 (single thread).\r\n  if (numThreads === 1) {\r\n    return false;\r\n  }\r\n\r\n  // If 'SharedArrayBuffer' is not available, WebAssembly threads will not work.\r\n  if (typeof SharedArrayBuffer === 'undefined') {\r\n    if (typeof self !== 'undefined' && !self.crossOriginIsolated) {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\r\n          'env.wasm.numThreads is set to ' + numThreads +\r\n          ', but this will not work unless you enable crossOriginIsolated mode. ' +\r\n          'See https://web.dev/cross-origin-isolation-guide/ for more info.');\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // onnxruntime-web does not support multi-threads in Node.js.\r\n  if (typeof process !== 'undefined' && process.versions && process.versions.node) {\r\n    // eslint-disable-next-line no-console\r\n    console.warn(\r\n        'env.wasm.numThreads is set to ' + numThreads +\r\n        ', however, currently onnxruntime-web does not support multi-threads in Node.js. ' +\r\n        'Please consider using onnxruntime-node for performance critical scenarios.');\r\n  }\r\n\r\n  try {\r\n    // Test for transferability of SABs (for browsers. needed for Firefox)\r\n    // https://groups.google.com/forum/#!msg/mozilla.dev.platform/IHkBZlHETpA/dwsMNchWEQAJ\r\n    if (typeof MessageChannel !== 'undefined') {\r\n      new MessageChannel().port1.postMessage(new SharedArrayBuffer(1));\r\n    }\r\n\r\n    // Test for WebAssembly threads capability (for both browsers and Node.js)\r\n    // This typed array is a WebAssembly program containing threaded instructions.\r\n    return WebAssembly.validate(new Uint8Array([\r\n      0, 97, 115, 109, 1, 0,  0,  0, 1, 4, 1,  96, 0,   0,  3, 2, 1,  0, 5,\r\n      4, 1,  3,   1,   1, 10, 11, 1, 9, 0, 65, 0,  254, 16, 2, 0, 26, 11\r\n    ]));\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst isSimdSupported = (): boolean => {\r\n  try {\r\n    // Test for WebAssembly SIMD capability (for both browsers and Node.js)\r\n    // This typed array is a WebAssembly program containing SIMD instructions.\r\n\r\n    // The binary data is generated from the following code by wat2wasm:\r\n    //\r\n    // (module\r\n    //   (type $t0 (func))\r\n    //   (func $f0 (type $t0)\r\n    //     (drop\r\n    //       (i32x4.dot_i16x8_s\r\n    //         (i8x16.splat\r\n    //           (i32.const 0))\r\n    //         (v128.const i32x4 0x00000000 0x00000000 0x00000000 0x00000000)))))\r\n\r\n    return WebAssembly.validate(new Uint8Array([\r\n      0,   97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 10, 30, 1,   28,  0, 65, 0,\r\n      253, 15, 253, 12,  0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0,  0,  253, 186, 1, 26, 11\r\n    ]));\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst getWasmFileName = (useSimd: boolean, useThreads: boolean) => {\r\n  if (useSimd) {\r\n    if (!BUILD_DEFS.DISABLE_TRAINING) {\r\n      return 'ort-training-wasm-simd.wasm';\r\n    }\r\n    return useThreads ? 'ort-wasm-simd-threaded.wasm' : 'ort-wasm-simd.wasm';\r\n  } else {\r\n    return useThreads ? 'ort-wasm-threaded.wasm' : 'ort-wasm.wasm';\r\n  }\r\n};\r\n\r\nexport const initializeWebAssembly = async(flags: Env.WebAssemblyFlags): Promise<void> => {\r\n  if (initialized) {\r\n    return Promise.resolve();\r\n  }\r\n  if (initializing) {\r\n    throw new Error('multiple calls to \\'initializeWebAssembly()\\' detected.');\r\n  }\r\n  if (aborted) {\r\n    throw new Error('previous call to \\'initializeWebAssembly()\\' failed.');\r\n  }\r\n\r\n  initializing = true;\r\n\r\n  // wasm flags are already initialized\r\n  const timeout = flags.initTimeout!;\r\n  const numThreads = flags.numThreads!;\r\n  const simd = flags.simd!;\r\n\r\n  const useThreads = isMultiThreadSupported(numThreads);\r\n  const useSimd = simd && isSimdSupported();\r\n\r\n  const wasmPaths = flags.wasmPaths;\r\n  const wasmPrefixOverride = typeof wasmPaths === 'string' ? wasmPaths : undefined;\r\n  const wasmFileName = getWasmFileName(useSimd, useThreads);\r\n  const wasmPathOverride = typeof wasmPaths === 'object' ? wasmPaths[wasmFileName] : undefined;\r\n\r\n  let isTimeout = false;\r\n\r\n  const tasks: Array<Promise<void>> = [];\r\n\r\n  // promise for timeout\r\n  if (timeout > 0) {\r\n    tasks.push(new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        isTimeout = true;\r\n        resolve();\r\n      }, timeout);\r\n    }));\r\n  }\r\n\r\n  // promise for module initialization\r\n  tasks.push(new Promise((resolve, reject) => {\r\n    const factory = useThreads ? ortWasmFactoryThreaded : ortWasmFactory;\r\n    const config: Partial<OrtWasmModule> = {\r\n      locateFile: (fileName: string, scriptDirectory: string) => {\r\n        if (!BUILD_DEFS.DISABLE_WASM_THREAD && useThreads && fileName.endsWith('.worker.js') &&\r\n            typeof Blob !== 'undefined') {\r\n          return URL.createObjectURL(new Blob(\r\n              [\r\n                // This require() function is handled by esbuild plugin to load file content as string.\r\n                // eslint-disable-next-line @typescript-eslint/no-require-imports\r\n                require('./binding/ort-wasm-threaded.worker.js')\r\n              ],\r\n              {type: 'text/javascript'}));\r\n        }\r\n\r\n        if (fileName.endsWith('.wasm')) {\r\n          if (wasmPathOverride) {\r\n            return wasmPathOverride;\r\n          }\r\n\r\n          const prefix = wasmPrefixOverride ?? scriptDirectory;\r\n\r\n          if (!BUILD_DEFS.DISABLE_WEBGPU) {\r\n            if (wasmFileName === 'ort-wasm-simd.wasm') {\r\n              return prefix + 'ort-wasm-simd.jsep.wasm';\r\n            } else if (wasmFileName === 'ort-wasm-simd-threaded.wasm') {\r\n              return prefix + 'ort-wasm-simd-threaded.jsep.wasm';\r\n            }\r\n          }\r\n\r\n          return prefix + wasmFileName;\r\n        }\r\n\r\n        return scriptDirectory + fileName;\r\n      }\r\n    };\r\n\r\n    if (!BUILD_DEFS.DISABLE_WASM_THREAD && useThreads) {\r\n      config.numThreads = numThreads;\r\n      if (typeof Blob === 'undefined') {\r\n        config.mainScriptUrlOrBlob = path.join(__dirname, 'ort-wasm-threaded.js');\r\n      } else {\r\n        const scriptSourceCode = `var ortWasmThreaded=${factory.toString()};`;\r\n        config.mainScriptUrlOrBlob = new Blob([scriptSourceCode], {type: 'text/javascript'});\r\n      }\r\n    }\r\n\r\n    factory(config).then(\r\n        // wasm module initialized successfully\r\n        module => {\r\n          initializing = false;\r\n          initialized = true;\r\n          wasm = module;\r\n          resolve();\r\n        },\r\n        // wasm module failed to initialize\r\n        (what) => {\r\n          initializing = false;\r\n          aborted = true;\r\n          reject(what);\r\n        });\r\n  }));\r\n\r\n  await Promise.race(tasks);\r\n\r\n  if (isTimeout) {\r\n    throw new Error(`WebAssembly backend initializing failed due to timeout: ${timeout}ms`);\r\n  }\r\n};\r\n\r\nexport const getInstance = (): OrtWasmModule => {\r\n  if (initialized && wasm) {\r\n    return wasm;\r\n  }\r\n\r\n  throw new Error('WebAssembly is not initialized yet.');\r\n};\r\n\r\nexport const dispose = (): void => {\r\n  if (initialized && !initializing && !aborted) {\r\n    initializing = true;\r\n\r\n    (wasm as OrtWasmThreadedModule).PThread?.terminateAllThreads();\r\n    wasm = undefined;\r\n\r\n    initializing = false;\r\n    initialized = false;\r\n    aborted = true;\r\n  }\r\n};\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {getInstance} from './wasm-factory';\r\n\r\nexport const allocWasmString = (data: string, allocs: number[]): number => {\r\n  const wasm = getInstance();\r\n\r\n  const dataLength = wasm.lengthBytesUTF8(data) + 1;\r\n  const dataOffset = wasm._malloc(dataLength);\r\n  wasm.stringToUTF8(data, dataOffset, dataLength);\r\n  allocs.push(dataOffset);\r\n\r\n  return dataOffset;\r\n};\r\n\r\ninterface ExtraOptionsHandler {\r\n  (name: string, value: string): void;\r\n}\r\n\r\nexport const iterateExtraOptions =\r\n    (options: Record<string, unknown>, prefix: string, seen: WeakSet<Record<string, unknown>>,\r\n     handler: ExtraOptionsHandler): void => {\r\n      if (typeof options == 'object' && options !== null) {\r\n        if (seen.has(options)) {\r\n          throw new Error('Circular reference in options');\r\n        } else {\r\n          seen.add(options);\r\n        }\r\n      }\r\n\r\n      Object.entries(options).forEach(([key, value]) => {\r\n        const name = (prefix) ? prefix + key : key;\r\n        if (typeof value === 'object') {\r\n          iterateExtraOptions(value as Record<string, unknown>, name + '.', seen, handler);\r\n        } else if (typeof value === 'string' || typeof value === 'number') {\r\n          handler(name, value.toString());\r\n        } else if (typeof value === 'boolean') {\r\n          handler(name, (value) ? '1' : '0');\r\n        } else {\r\n          throw new Error(`Can't handle extra config type: ${typeof value}`);\r\n        }\r\n      });\r\n    };\r\n\r\n/**\r\n * check web assembly API's last error and throw error if any error occurred.\r\n * @param message a message used when an error occurred.\r\n */\r\nexport const checkLastError = (message: string): void => {\r\n  const wasm = getInstance();\r\n\r\n  const stack = wasm.stackSave();\r\n  try {\r\n    const paramsOffset = wasm.stackAlloc(8);\r\n    wasm._OrtGetLastError(paramsOffset, paramsOffset + 4);\r\n    const errorCode = wasm.HEAP32[paramsOffset / 4];\r\n    const errorMessagePointer = wasm.HEAPU32[paramsOffset / 4 + 1];\r\n    const errorMessage = errorMessagePointer ? wasm.UTF8ToString(errorMessagePointer) : '';\r\n    throw new Error(`${message} ERROR_CODE: ${errorCode}, ERROR_MESSAGE: ${errorMessage}`);\r\n  } finally {\r\n    wasm.stackRestore(stack);\r\n  }\r\n};\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {InferenceSession} from 'onnxruntime-common';\r\n\r\nimport {getInstance} from './wasm-factory';\r\nimport {allocWasmString, checkLastError, iterateExtraOptions} from './wasm-utils';\r\n\r\nexport const setRunOptions = (options: InferenceSession.RunOptions): [number, number[]] => {\r\n  const wasm = getInstance();\r\n  let runOptionsHandle = 0;\r\n  const allocs: number[] = [];\r\n\r\n  const runOptions: InferenceSession.RunOptions = options || {};\r\n\r\n  try {\r\n    if (options?.logSeverityLevel === undefined) {\r\n      runOptions.logSeverityLevel = 2;  // Default to warning\r\n    } else if (\r\n        typeof options.logSeverityLevel !== 'number' || !Number.isInteger(options.logSeverityLevel) ||\r\n        options.logSeverityLevel < 0 || options.logSeverityLevel > 4) {\r\n      throw new Error(`log serverity level is not valid: ${options.logSeverityLevel}`);\r\n    }\r\n\r\n    if (options?.logVerbosityLevel === undefined) {\r\n      runOptions.logVerbosityLevel = 0;  // Default to 0\r\n    } else if (typeof options.logVerbosityLevel !== 'number' || !Number.isInteger(options.logVerbosityLevel)) {\r\n      throw new Error(`log verbosity level is not valid: ${options.logVerbosityLevel}`);\r\n    }\r\n\r\n    if (options?.terminate === undefined) {\r\n      runOptions.terminate = false;\r\n    }\r\n\r\n    let tagDataOffset = 0;\r\n    if (options?.tag !== undefined) {\r\n      tagDataOffset = allocWasmString(options.tag, allocs);\r\n    }\r\n\r\n    runOptionsHandle = wasm._OrtCreateRunOptions(\r\n        runOptions.logSeverityLevel!, runOptions.logVerbosityLevel!, !!runOptions.terminate!, tagDataOffset);\r\n    if (runOptionsHandle === 0) {\r\n      checkLastError('Can\\'t create run options.');\r\n    }\r\n\r\n    if (options?.extra !== undefined) {\r\n      iterateExtraOptions(options.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\r\n        const keyDataOffset = allocWasmString(key, allocs);\r\n        const valueDataOffset = allocWasmString(value, allocs);\r\n\r\n        if (wasm._OrtAddRunConfigEntry(runOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\r\n          checkLastError(`Can't set a run config entry: ${key} - ${value}.`);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [runOptionsHandle, allocs];\r\n  } catch (e) {\r\n    if (runOptionsHandle !== 0) {\r\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\r\n    }\r\n    allocs.forEach(alloc => wasm._free(alloc));\r\n    throw e;\r\n  }\r\n};\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {InferenceSession} from 'onnxruntime-common';\r\n\r\nimport {getInstance} from './wasm-factory';\r\nimport {allocWasmString, checkLastError, iterateExtraOptions} from './wasm-utils';\r\n\r\nconst getGraphOptimzationLevel = (graphOptimizationLevel: string|unknown): number => {\r\n  switch (graphOptimizationLevel) {\r\n    case 'disabled':\r\n      return 0;\r\n    case 'basic':\r\n      return 1;\r\n    case 'extended':\r\n      return 2;\r\n    case 'all':\r\n      return 99;\r\n    default:\r\n      throw new Error(`unsupported graph optimization level: ${graphOptimizationLevel}`);\r\n  }\r\n};\r\n\r\nconst getExecutionMode = (executionMode: 'sequential'|'parallel'): number => {\r\n  switch (executionMode) {\r\n    case 'sequential':\r\n      return 0;\r\n    case 'parallel':\r\n      return 1;\r\n    default:\r\n      throw new Error(`unsupported execution mode: ${executionMode}`);\r\n  }\r\n};\r\n\r\nconst appendDefaultOptions = (options: InferenceSession.SessionOptions): void => {\r\n  if (!options.extra) {\r\n    options.extra = {};\r\n  }\r\n  if (!options.extra.session) {\r\n    options.extra.session = {};\r\n  }\r\n  const session = options.extra.session as Record<string, string>;\r\n  if (!session.use_ort_model_bytes_directly) {\r\n    // eslint-disable-next-line camelcase\r\n    session.use_ort_model_bytes_directly = '1';\r\n  }\r\n\r\n  // if using JSEP with WebGPU, always disable memory pattern\r\n  if (options.executionProviders &&\r\n      options.executionProviders.some(ep => (typeof ep === 'string' ? ep : ep.name) === 'webgpu')) {\r\n    options.enableMemPattern = false;\r\n  }\r\n};\r\n\r\nconst setExecutionProviders =\r\n    (sessionOptionsHandle: number, executionProviders: readonly InferenceSession.ExecutionProviderConfig[],\r\n     allocs: number[]): void => {\r\n      for (const ep of executionProviders) {\r\n        let epName = typeof ep === 'string' ? ep : ep.name;\r\n\r\n        // check EP name\r\n        switch (epName) {\r\n          case 'webnn':\r\n            epName = 'WEBNN';\r\n            if (typeof ep !== 'string') {\r\n              const webnnOptions = ep as InferenceSession.WebNNExecutionProviderOption;\r\n              if (webnnOptions?.deviceType) {\r\n                const keyDataOffset = allocWasmString('deviceType', allocs);\r\n                const valueDataOffset = allocWasmString(webnnOptions.deviceType, allocs);\r\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\r\n                    0) {\r\n                  checkLastError(`Can't set a session config entry: 'deviceType' - ${webnnOptions.deviceType}.`);\r\n                }\r\n              }\r\n              if (webnnOptions?.numThreads) {\r\n                let numThreads = webnnOptions.numThreads;\r\n                // Just ignore invalid webnnOptions.numThreads.\r\n                if (typeof numThreads != 'number' || !Number.isInteger(numThreads) || numThreads < 0) {\r\n                  numThreads = 0;\r\n                }\r\n                const keyDataOffset = allocWasmString('numThreads', allocs);\r\n                const valueDataOffset = allocWasmString(numThreads.toString(), allocs);\r\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\r\n                    0) {\r\n                  checkLastError(`Can't set a session config entry: 'numThreads' - ${webnnOptions.numThreads}.`);\r\n                }\r\n              }\r\n              if (webnnOptions?.powerPreference) {\r\n                const keyDataOffset = allocWasmString('powerPreference', allocs);\r\n                const valueDataOffset = allocWasmString(webnnOptions.powerPreference, allocs);\r\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\r\n                    0) {\r\n                  checkLastError(\r\n                      `Can't set a session config entry: 'powerPreference' - ${webnnOptions.powerPreference}.`);\r\n                }\r\n              }\r\n            }\r\n            break;\r\n          case 'webgpu':\r\n            epName = 'JS';\r\n            if (typeof ep !== 'string') {\r\n              const webgpuOptions = ep as InferenceSession.WebGpuExecutionProviderOption;\r\n              if (webgpuOptions?.preferredLayout) {\r\n                if (webgpuOptions.preferredLayout !== 'NCHW' && webgpuOptions.preferredLayout !== 'NHWC') {\r\n                  throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${webgpuOptions.preferredLayout}`);\r\n                }\r\n                const keyDataOffset = allocWasmString('preferredLayout', allocs);\r\n                const valueDataOffset = allocWasmString(webgpuOptions.preferredLayout, allocs);\r\n                if (getInstance()._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !==\r\n                    0) {\r\n                  checkLastError(\r\n                      `Can't set a session config entry: 'preferredLayout' - ${webgpuOptions.preferredLayout}.`);\r\n                }\r\n              }\r\n            }\r\n            break;\r\n          case 'wasm':\r\n          case 'cpu':\r\n            continue;\r\n          default:\r\n            throw new Error(`not supported execution provider: ${epName}`);\r\n        }\r\n\r\n        const epNameDataOffset = allocWasmString(epName, allocs);\r\n        if (getInstance()._OrtAppendExecutionProvider(sessionOptionsHandle, epNameDataOffset) !== 0) {\r\n          checkLastError(`Can't append execution provider: ${epName}.`);\r\n        }\r\n      }\r\n    };\r\n\r\nexport const setSessionOptions = (options?: InferenceSession.SessionOptions): [number, number[]] => {\r\n  const wasm = getInstance();\r\n  let sessionOptionsHandle = 0;\r\n  const allocs: number[] = [];\r\n\r\n  const sessionOptions: InferenceSession.SessionOptions = options || {};\r\n  appendDefaultOptions(sessionOptions);\r\n\r\n  try {\r\n    const graphOptimizationLevel = getGraphOptimzationLevel(sessionOptions.graphOptimizationLevel ?? 'all');\r\n    const executionMode = getExecutionMode(sessionOptions.executionMode ?? 'sequential');\r\n    const logIdDataOffset =\r\n        typeof sessionOptions.logId === 'string' ? allocWasmString(sessionOptions.logId, allocs) : 0;\r\n\r\n    const logSeverityLevel = sessionOptions.logSeverityLevel ?? 2;  // Default to 2 - warning\r\n    if (!Number.isInteger(logSeverityLevel) || logSeverityLevel < 0 || logSeverityLevel > 4) {\r\n      throw new Error(`log serverity level is not valid: ${logSeverityLevel}`);\r\n    }\r\n\r\n    const logVerbosityLevel = sessionOptions.logVerbosityLevel ?? 0;  // Default to 0 - verbose\r\n    if (!Number.isInteger(logVerbosityLevel) || logVerbosityLevel < 0 || logVerbosityLevel > 4) {\r\n      throw new Error(`log verbosity level is not valid: ${logVerbosityLevel}`);\r\n    }\r\n\r\n    const optimizedModelFilePathOffset = typeof sessionOptions.optimizedModelFilePath === 'string' ?\r\n        allocWasmString(sessionOptions.optimizedModelFilePath, allocs) :\r\n        0;\r\n\r\n    sessionOptionsHandle = wasm._OrtCreateSessionOptions(\r\n        graphOptimizationLevel, !!sessionOptions.enableCpuMemArena, !!sessionOptions.enableMemPattern, executionMode,\r\n        !!sessionOptions.enableProfiling, 0, logIdDataOffset, logSeverityLevel, logVerbosityLevel,\r\n        optimizedModelFilePathOffset);\r\n    if (sessionOptionsHandle === 0) {\r\n      checkLastError('Can\\'t create session options.');\r\n    }\r\n\r\n    if (sessionOptions.executionProviders) {\r\n      setExecutionProviders(sessionOptionsHandle, sessionOptions.executionProviders, allocs);\r\n    }\r\n\r\n    if (sessionOptions.enableGraphCapture !== undefined) {\r\n      if (typeof sessionOptions.enableGraphCapture !== 'boolean') {\r\n        throw new Error(`enableGraphCapture must be a boolean value: ${sessionOptions.enableGraphCapture}`);\r\n      }\r\n      const keyDataOffset = allocWasmString('enableGraphCapture', allocs);\r\n      const valueDataOffset = allocWasmString(sessionOptions.enableGraphCapture.toString(), allocs);\r\n      if (wasm._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\r\n        checkLastError(\r\n            `Can't set a session config entry: 'enableGraphCapture' - ${sessionOptions.enableGraphCapture}.`);\r\n      }\r\n    }\r\n\r\n    if (sessionOptions.freeDimensionOverrides) {\r\n      for (const [name, value] of Object.entries(sessionOptions.freeDimensionOverrides)) {\r\n        if (typeof name !== 'string') {\r\n          throw new Error(`free dimension override name must be a string: ${name}`);\r\n        }\r\n        if (typeof value !== 'number' || !Number.isInteger(value) || value < 0) {\r\n          throw new Error(`free dimension override value must be a non-negative integer: ${value}`);\r\n        }\r\n        const nameOffset = allocWasmString(name, allocs);\r\n        if (wasm._OrtAddFreeDimensionOverride(sessionOptionsHandle, nameOffset, value) !== 0) {\r\n          checkLastError(`Can't set a free dimension override: ${name} - ${value}.`);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (sessionOptions.extra !== undefined) {\r\n      iterateExtraOptions(sessionOptions.extra, '', new WeakSet<Record<string, unknown>>(), (key, value) => {\r\n        const keyDataOffset = allocWasmString(key, allocs);\r\n        const valueDataOffset = allocWasmString(value, allocs);\r\n\r\n        if (wasm._OrtAddSessionConfigEntry(sessionOptionsHandle, keyDataOffset, valueDataOffset) !== 0) {\r\n          checkLastError(`Can't set a session config entry: ${key} - ${value}.`);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [sessionOptionsHandle, allocs];\r\n  } catch (e) {\r\n    if (sessionOptionsHandle !== 0) {\r\n      wasm._OrtReleaseSessionOptions(sessionOptionsHandle);\r\n    }\r\n    allocs.forEach(alloc => wasm._free(alloc));\r\n    throw e;\r\n  }\r\n};\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {Tensor} from 'onnxruntime-common';\r\n\r\n// a dummy type declaration for Float16Array in case any polyfill is available.\r\ndeclare global {\r\n  // eslint-disable-next-line @typescript-eslint/naming-convention, @typescript-eslint/no-explicit-any\r\n  const Float16Array: any;\r\n}\r\n\r\n// This file includes common definitions. They do NOT have dependency on the WebAssembly instance.\r\n\r\n/**\r\n * Copied from ONNX definition. Use this to drop dependency 'onnx_proto' to decrease compiled .js file size.\r\n */\r\nexport const enum DataType {\r\n  undefined = 0,\r\n  float = 1,\r\n  uint8 = 2,\r\n  int8 = 3,\r\n  uint16 = 4,\r\n  int16 = 5,\r\n  int32 = 6,\r\n  int64 = 7,\r\n  string = 8,\r\n  bool = 9,\r\n  float16 = 10,\r\n  double = 11,\r\n  uint32 = 12,\r\n  uint64 = 13,\r\n  complex64 = 14,\r\n  complex128 = 15,\r\n  bfloat16 = 16\r\n}\r\n\r\n/**\r\n * Map string tensor data to enum value\r\n */\r\nexport const tensorDataTypeStringToEnum = (type: string): DataType => {\r\n  switch (type) {\r\n    case 'int8':\r\n      return DataType.int8;\r\n    case 'uint8':\r\n      return DataType.uint8;\r\n    case 'bool':\r\n      return DataType.bool;\r\n    case 'int16':\r\n      return DataType.int16;\r\n    case 'uint16':\r\n      return DataType.uint16;\r\n    case 'int32':\r\n      return DataType.int32;\r\n    case 'uint32':\r\n      return DataType.uint32;\r\n    case 'float16':\r\n      return DataType.float16;\r\n    case 'float32':\r\n      return DataType.float;\r\n    case 'float64':\r\n      return DataType.double;\r\n    case 'string':\r\n      return DataType.string;\r\n    case 'int64':\r\n      return DataType.int64;\r\n    case 'uint64':\r\n      return DataType.uint64;\r\n\r\n    default:\r\n      throw new Error(`unsupported data type: ${type}`);\r\n  }\r\n};\r\n\r\n/**\r\n * Map enum value to string tensor data\r\n */\r\nexport const tensorDataTypeEnumToString = (typeProto: DataType): Tensor.Type => {\r\n  switch (typeProto) {\r\n    case DataType.int8:\r\n      return 'int8';\r\n    case DataType.uint8:\r\n      return 'uint8';\r\n    case DataType.bool:\r\n      return 'bool';\r\n    case DataType.int16:\r\n      return 'int16';\r\n    case DataType.uint16:\r\n      return 'uint16';\r\n    case DataType.int32:\r\n      return 'int32';\r\n    case DataType.uint32:\r\n      return 'uint32';\r\n    case DataType.float16:\r\n      return 'float16';\r\n    case DataType.float:\r\n      return 'float32';\r\n    case DataType.double:\r\n      return 'float64';\r\n    case DataType.string:\r\n      return 'string';\r\n    case DataType.int64:\r\n      return 'int64';\r\n    case DataType.uint64:\r\n      return 'uint64';\r\n\r\n    default:\r\n      throw new Error(`unsupported data type: ${typeProto}`);\r\n  }\r\n};\r\n\r\n/**\r\n * get tensor element size in bytes by the given data type\r\n * @returns size in integer or undefined if the data type is not supported\r\n */\r\nexport const getTensorElementSize = (dateType: number): number|\r\n    undefined => [undefined, 4, 1, 1, 2, 2, 4, 8, undefined, 1, 2, 8, 4, 8, undefined, undefined, undefined][dateType];\r\n\r\n/**\r\n * get typed array constructor by the given tensor type\r\n */\r\nexport const tensorTypeToTypedArrayConstructor = (type: Tensor.Type): Float32ArrayConstructor|Uint8ArrayConstructor|\r\n    Int8ArrayConstructor|Uint16ArrayConstructor|Int16ArrayConstructor|Int32ArrayConstructor|BigInt64ArrayConstructor|\r\n    Uint8ArrayConstructor|Float64ArrayConstructor|Uint32ArrayConstructor|BigUint64ArrayConstructor => {\r\n      switch (type) {\r\n        case 'float16':\r\n          // allow Float16Array polyfill.\r\n          return typeof Float16Array !== 'undefined' && Float16Array.from ? Float16Array : Uint16Array;\r\n        case 'float32':\r\n          return Float32Array;\r\n        case 'uint8':\r\n          return Uint8Array;\r\n        case 'int8':\r\n          return Int8Array;\r\n        case 'uint16':\r\n          return Uint16Array;\r\n        case 'int16':\r\n          return Int16Array;\r\n        case 'int32':\r\n          return Int32Array;\r\n        case 'bool':\r\n          return Uint8Array;\r\n        case 'float64':\r\n          return Float64Array;\r\n        case 'uint32':\r\n          return Uint32Array;\r\n        case 'int64':\r\n          return BigInt64Array;\r\n        case 'uint64':\r\n          return BigUint64Array;\r\n        default:\r\n          throw new Error(`unsupported type: ${type}`);\r\n      }\r\n    };\r\n\r\n/**\r\n * Map string log level to integer value\r\n */\r\nexport const logLevelStringToEnum = (logLevel?: 'verbose'|'info'|'warning'|'error'|'fatal'): number => {\r\n  switch (logLevel) {\r\n    case 'verbose':\r\n      return 0;\r\n    case 'info':\r\n      return 1;\r\n    case 'warning':\r\n      return 2;\r\n    case 'error':\r\n      return 3;\r\n    case 'fatal':\r\n      return 4;\r\n    default:\r\n      throw new Error(`unsupported logging level: ${logLevel}`);\r\n  }\r\n};\r\n\r\n/**\r\n * Check whether the given tensor type is supported by GPU buffer\r\n */\r\nexport const isGpuBufferSupportedType = (type: Tensor.Type): type is Tensor.GpuBufferDataTypes => type === 'float32' ||\r\n    type === 'float16' || type === 'int32' || type === 'int64' || type === 'uint32' || type === 'uint8' ||\r\n    type === 'bool';\r\n\r\n/**\r\n * Map string data location to integer value\r\n */\r\nexport const dataLocationStringToEnum = (location: Tensor.DataLocation): number => {\r\n  switch (location) {\r\n    case 'none':\r\n      return 0;\r\n    case 'cpu':\r\n      return 1;\r\n    case 'cpu-pinned':\r\n      return 2;\r\n    case 'texture':\r\n      return 3;\r\n    case 'gpu-buffer':\r\n      return 4;\r\n    default:\r\n      throw new Error(`unsupported data location: ${location}`);\r\n  }\r\n};\r\n\r\n/**\r\n * Map integer data location to string value\r\n */\r\nexport const dataLocationEnumToString = (location: number): Tensor.DataLocation|undefined =>\r\n    (['none', 'cpu', 'cpu-pinned', 'texture', 'gpu-buffer'] as const)[location];\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport * as fs from 'fs';\r\nimport {readFile} from 'node:fs/promises';\r\n\r\n/**\r\n * Load a file into a Uint8Array.\r\n *\r\n * @param file - the file to load. Can be a URL/path, a Blob, an ArrayBuffer, or a Uint8Array.\r\n * @returns a Uint8Array containing the file data.\r\n */\r\nexport const loadFile = async(file: string|Blob|ArrayBufferLike|Uint8Array): Promise<Uint8Array> => {\r\n  if (typeof file === 'string') {\r\n    if (typeof process !== 'undefined' && process.versions && process.versions.node) {\r\n      // load file into ArrayBuffer in Node.js\r\n      try {\r\n        return new Uint8Array(await readFile(file));\r\n      } catch (e) {\r\n        if (e.code === 'ERR_FS_FILE_TOO_LARGE') {\r\n          // file is too large, use fs.createReadStream instead\r\n          const stream = fs.createReadStream(file);\r\n          const chunks: Uint8Array[] = [];\r\n          for await (const chunk of stream) {\r\n            chunks.push(chunk);\r\n          }\r\n          return new Uint8Array(Buffer.concat(chunks));\r\n        }\r\n        throw e;\r\n      }\r\n    } else {\r\n      // load file into ArrayBuffer in browsers\r\n      const response = await fetch(file);\r\n      if (!response.ok) {\r\n        throw new Error(`failed to load external data file: ${file}`);\r\n      }\r\n      const contentLengthHeader = response.headers.get('Content-Length');\r\n      const fileSize = contentLengthHeader ? parseInt(contentLengthHeader, 10) : 0;\r\n      if (fileSize < 1073741824 /* 1GB */) {\r\n        // when Content-Length header is not set, we cannot determine the file size. We assume it is small enough to\r\n        // load into memory.\r\n        return new Uint8Array(await response.arrayBuffer());\r\n      } else {\r\n        // file is too large, use stream instead\r\n        if (!response.body) {\r\n          throw new Error(`failed to load external data file: ${file}, no response body.`);\r\n        }\r\n        const reader = response.body.getReader();\r\n\r\n        let buffer;\r\n        try {\r\n          // try to create ArrayBuffer directly\r\n          buffer = new ArrayBuffer(fileSize);\r\n        } catch (e) {\r\n          if (e instanceof RangeError) {\r\n            // use WebAssembly Memory to allocate larger ArrayBuffer\r\n            const pages = Math.ceil(fileSize / 65536);\r\n            buffer = new WebAssembly.Memory({initial: pages, maximum: pages}).buffer;\r\n          } else {\r\n            throw e;\r\n          }\r\n        }\r\n\r\n        let offset = 0;\r\n        // eslint-disable-next-line no-constant-condition\r\n        while (true) {\r\n          const {done, value} = await reader.read();\r\n          if (done) {\r\n            break;\r\n          }\r\n          const chunkSize = value.byteLength;\r\n          const chunk = new Uint8Array(buffer, offset, chunkSize);\r\n          chunk.set(value);\r\n          offset += chunkSize;\r\n        }\r\n        return new Uint8Array(buffer, 0, fileSize);\r\n      }\r\n    }\r\n\r\n  } else if (file instanceof Blob) {\r\n    return new Uint8Array(await file.arrayBuffer());\r\n  } else if (file instanceof Uint8Array) {\r\n    return file;\r\n  } else {\r\n    return new Uint8Array(file);\r\n  }\r\n};\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {Env, InferenceSession, Tensor} from 'onnxruntime-common';\r\n\r\nimport {SerializableInternalBuffer, SerializableSessionMetadata, SerializableTensorMetadata, TensorMetadata} from './proxy-messages';\r\nimport {setRunOptions} from './run-options';\r\nimport {setSessionOptions} from './session-options';\r\nimport {dataLocationStringToEnum, getTensorElementSize, isGpuBufferSupportedType, logLevelStringToEnum, tensorDataTypeEnumToString, tensorDataTypeStringToEnum, tensorTypeToTypedArrayConstructor} from './wasm-common';\r\nimport {getInstance} from './wasm-factory';\r\nimport {allocWasmString, checkLastError} from './wasm-utils';\r\nimport {loadFile} from './wasm-utils-load-file';\r\n\r\n// #region Initializations\r\n\r\n/**\r\n * There are 4 different \"initialization\" steps for ORT. They happen in different places and different time.\r\n *\r\n * 1. JavaScript initialization for onnxruntime-common and onnxruntime-web.\r\n *    This is the first initialization step. In this step, onnxruntime-web calls onnxruntime-common's registerBackend()\r\n * function multiple times to register all the available backends. The backend registration is very fast. It only\r\n * registers the backend name with the uninitialized backend object. No heavy initialization is done in this step.\r\n *    Refer to web/lib/index.ts for the backend registration.\r\n *\r\n * 2. WebAssembly artifact initialization.\r\n *    This happens when any registered wasm backend is used for the first time (ie. `ort.InferenceSession.create()` or\r\n * `ort.TrainingSession.create()` is called). In this step, onnxruntime-web does the followings:\r\n *     - create a proxy worker and make sure the proxy worker is ready to receive messages, if proxy is enabled.\r\n *     - perform feature detection, locate correct WebAssembly artifact path and call the Emscripten generated\r\n * JavaScript code to initialize the WebAssembly runtime.\r\n *         - if proxy is enabled, this step happens in the proxy worker using message 'init-wasm'.\r\n *         - downloading the 'ort-wasm{...}.wasm' file is done in this step.\r\n *         - if multi-thread is enabled, one or more webworker will be created to initialize the PThread threadpool.\r\n *\r\n * 3. ORT environment initialization.\r\n *    This happens after step 2. In this step, onnxruntime-web performs ONNX Runtime environment initialization.\r\n * Function `_OrtInit()` is called in this step.\r\n *     - if proxy is enabled, this step happens in the proxy worker using message 'init-ort'.\r\n *     - logging level (ort.env.logLevel) and thread number (ort.env.wasm.numThreads) are set in this step.\r\n *\r\n * 4. Session initialization.\r\n *    This happens when `ort.InferenceSession.create()` or `ort.TrainingSession.create()` is called. Unlike the first 3\r\n * steps (they only called once), this step will be done for each session. In this step, onnxruntime-web does the\r\n * followings:\r\n *    If the parameter is a URL:\r\n *    - download the model data from the URL.\r\n *    - copy the model data to the WASM heap. (proxy: 'copy-from')\r\n *    - dereference the model buffer. This step allows the original ArrayBuffer to be garbage collected.\r\n *    - call `_OrtCreateSession()` to create the session. (proxy: 'create')\r\n *\r\n *    If the parameter is a Uint8Array object:\r\n *    - copy the model data to the WASM heap. (proxy: 'copy-from')\r\n *    - call `_OrtCreateSession()` to create the session. (proxy: 'create')\r\n *\r\n *\r\n */\r\n\r\n/**\r\n * initialize ORT environment.\r\n *\r\n * @param numThreads SetGlobalIntraOpNumThreads(numThreads)\r\n * @param loggingLevel CreateEnv(static_cast<OrtLoggingLevel>(logging_level))\r\n */\r\nconst initOrt = (numThreads: number, loggingLevel: number): void => {\r\n  const errorCode = getInstance()._OrtInit(numThreads, loggingLevel);\r\n  if (errorCode !== 0) {\r\n    checkLastError('Can\\'t initialize onnxruntime.');\r\n  }\r\n};\r\n\r\n/**\r\n * intialize runtime environment.\r\n * @param env passed in the environment config object.\r\n */\r\nexport const initRuntime = async(env: Env): Promise<void> => {\r\n  // init ORT\r\n  initOrt(env.wasm.numThreads!, logLevelStringToEnum(env.logLevel));\r\n};\r\n\r\n/**\r\n * perform EP specific initialization.\r\n *\r\n * @param env\r\n * @param epName\r\n */\r\nexport const initEp = async(env: Env, epName: string): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WEBGPU) {\r\n    // eslint-disable-next-line @typescript-eslint/no-require-imports, @typescript-eslint/no-var-requires\r\n    const initJsep = require('./jsep/init').init;\r\n\r\n    if (epName === 'webgpu') {\r\n      // perform WebGPU availability check\r\n      if (typeof navigator === 'undefined' || !navigator.gpu) {\r\n        throw new Error('WebGPU is not supported in current environment');\r\n      }\r\n\r\n      let adapter = env.webgpu.adapter as GPUAdapter | null;\r\n      if (!adapter) {\r\n        // if adapter is not set, request a new adapter.\r\n        const powerPreference = env.webgpu.powerPreference;\r\n        if (powerPreference !== undefined && powerPreference !== 'low-power' &&\r\n            powerPreference !== 'high-performance') {\r\n          throw new Error(`Invalid powerPreference setting: \"${powerPreference}\"`);\r\n        }\r\n        const forceFallbackAdapter = env.webgpu.forceFallbackAdapter;\r\n        if (forceFallbackAdapter !== undefined && typeof forceFallbackAdapter !== 'boolean') {\r\n          throw new Error(`Invalid forceFallbackAdapter setting: \"${forceFallbackAdapter}\"`);\r\n        }\r\n        adapter = await navigator.gpu.requestAdapter({powerPreference, forceFallbackAdapter});\r\n        if (!adapter) {\r\n          throw new Error(\r\n              'Failed to get GPU adapter. ' +\r\n              'You may need to enable flag \"--enable-unsafe-webgpu\" if you are using Chrome.');\r\n        }\r\n      } else {\r\n        // if adapter is set, validate it.\r\n        if (typeof adapter.limits !== 'object' || typeof adapter.features !== 'object' ||\r\n            typeof adapter.requestDevice !== 'function') {\r\n          throw new Error('Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.');\r\n        }\r\n      }\r\n\r\n      if (!env.wasm.simd) {\r\n        throw new Error(\r\n            'Not supported for WebGPU=ON and SIMD=OFF. Please set `env.wasm.simd` to true when using `webgpu` EP');\r\n      }\r\n\r\n      await initJsep('webgpu', getInstance(), env, adapter);\r\n    }\r\n    if (epName === 'webnn') {\r\n      // perform WebNN availability check\r\n      if (typeof navigator === 'undefined' || !(navigator as unknown as {ml: unknown}).ml) {\r\n        throw new Error('WebNN is not supported in current environment');\r\n      }\r\n\r\n      await initJsep('webnn', getInstance(), env);\r\n    }\r\n  }\r\n};\r\n\r\n// #endregion Initializations\r\n\r\n/**\r\n * valid data locations for input/output tensors.\r\n */\r\ntype SupportedTensorDataLocationForInputOutput = 'cpu'|'cpu-pinned'|'gpu-buffer';\r\n\r\ntype IOBindingState = {\r\n  /**\r\n   * the handle of IO binding.\r\n   */\r\n  readonly handle: number;\r\n\r\n  /**\r\n   * the preferred location for each output tensor.\r\n   *\r\n   * value is one of 'cpu', 'cpu-pinned', 'gpu-buffer'.\r\n   */\r\n  readonly outputPreferredLocations: readonly SupportedTensorDataLocationForInputOutput[];\r\n\r\n  /**\r\n   * enum value of the preferred location for each output tensor.\r\n   */\r\n  readonly outputPreferredLocationsEncoded: readonly number[];\r\n};\r\n\r\n/**\r\n *  tuple elements are: InferenceSession ID; inputNamesUTF8Encoded; outputNamesUTF8Encoded; bindingState\r\n */\r\ntype SessionMetadata = [\r\n  inferenceSessionId: number, inputNamesUTF8Encoded: number[], outputNamesUTF8Encoded: number[],\r\n  bindingState: IOBindingState|null, enableGraphCapture: boolean, inputOutputBound: boolean\r\n];\r\n\r\nconst activeSessions = new Map<number, SessionMetadata>();\r\n\r\n/**\r\n * get the input/output count of the session.\r\n * @param sessionHandle the handle representing the session. should be non-zero.\r\n * @returns a tuple including 2 numbers, representing the input count and output count.\r\n */\r\nconst getSessionInputOutputCount = (sessionHandle: number): [number, number] => {\r\n  const wasm = getInstance();\r\n  const stack = wasm.stackSave();\r\n  try {\r\n    const dataOffset = wasm.stackAlloc(8);\r\n    const errorCode = wasm._OrtGetInputOutputCount(sessionHandle, dataOffset, dataOffset + 4);\r\n    if (errorCode !== 0) {\r\n      checkLastError('Can\\'t get session input/output count.');\r\n    }\r\n    return [wasm.HEAP32[dataOffset / 4], wasm.HEAP32[dataOffset / 4 + 1]];\r\n  } finally {\r\n    wasm.stackRestore(stack);\r\n  }\r\n};\r\n\r\n/**\r\n * allocate the memory and memcpy the external buffer.\r\n *\r\n * @param model - the external buffer containing the model data. Must not be the same buffer as the WASM heap.\r\n * @returns a 2-elements tuple - the pointer and size of the allocated buffer\r\n */\r\nexport const copyFromExternalBuffer = (model: Uint8Array): [number, number] => {\r\n  const wasm = getInstance();\r\n  const modelDataOffset = wasm._malloc(model.byteLength);\r\n  if (modelDataOffset === 0) {\r\n    throw new Error(`Can't create a session. failed to allocate a buffer of size ${model.byteLength}.`);\r\n  }\r\n  wasm.HEAPU8.set(model, modelDataOffset);\r\n  return [modelDataOffset, model.byteLength];\r\n};\r\n\r\n/**\r\n * create an inference session from a model data buffer.\r\n *\r\n * @param modelData - either a Uint8Array object representing the model data, or a 2-elements tuple containing the\r\n *     pointer and size of the model data buffer.\r\n * @param options an optional session options object.\r\n * @returns a 3-elements tuple containing [session handle, input names, output names]\r\n */\r\nexport const createSession = async(\r\n    modelData: Uint8Array|SerializableInternalBuffer,\r\n    options?: InferenceSession.SessionOptions): Promise<SerializableSessionMetadata> => {\r\n  let modelDataOffset: number, modelDataLength: number;\r\n  const wasm = getInstance();\r\n\r\n  if (Array.isArray(modelData)) {\r\n    // if model data is an array, it must be a 2-elements tuple containing the pointer and size of the model data\r\n    [modelDataOffset, modelDataLength] = modelData;\r\n  } else if (modelData.buffer === wasm.HEAPU8.buffer) {\r\n    // if model data uses the same buffer as the WASM heap, we don't need to copy it.\r\n    [modelDataOffset, modelDataLength] = [modelData.byteOffset, modelData.byteLength];\r\n  } else {\r\n    // otherwise, copy the model data to the WASM heap.\r\n    [modelDataOffset, modelDataLength] = copyFromExternalBuffer(modelData);\r\n  }\r\n\r\n  let sessionHandle = 0;\r\n  let sessionOptionsHandle = 0;\r\n  let ioBindingHandle = 0;\r\n  let allocs: number[] = [];\r\n  const inputNamesUTF8Encoded = [];\r\n  const outputNamesUTF8Encoded = [];\r\n\r\n  try {\r\n    [sessionOptionsHandle, allocs] = setSessionOptions(options);\r\n\r\n    if (options?.externalData && wasm.mountExternalData) {\r\n      const loadingPromises = [];\r\n      for (const file of options.externalData) {\r\n        const path = typeof file === 'string' ? file : file.path;\r\n        loadingPromises.push(loadFile(typeof file === 'string' ? file : file.data).then(data => {\r\n          wasm.mountExternalData!(path, data);\r\n        }));\r\n      }\r\n\r\n      // wait for all external data files to be loaded\r\n      await Promise.all(loadingPromises);\r\n    }\r\n\r\n    sessionHandle = await wasm._OrtCreateSession(modelDataOffset, modelDataLength, sessionOptionsHandle);\r\n    if (sessionHandle === 0) {\r\n      checkLastError('Can\\'t create a session.');\r\n    }\r\n\r\n    const [inputCount, outputCount] = getSessionInputOutputCount(sessionHandle);\r\n\r\n    const enableGraphCapture = !!options?.enableGraphCapture;\r\n\r\n    const inputNames = [];\r\n    const outputNames = [];\r\n    const outputPreferredLocations: SupportedTensorDataLocationForInputOutput[] = [];\r\n    for (let i = 0; i < inputCount; i++) {\r\n      const name = wasm._OrtGetInputName(sessionHandle, i);\r\n      if (name === 0) {\r\n        checkLastError('Can\\'t get an input name.');\r\n      }\r\n      inputNamesUTF8Encoded.push(name);\r\n      inputNames.push(wasm.UTF8ToString(name));\r\n    }\r\n    for (let i = 0; i < outputCount; i++) {\r\n      const name = wasm._OrtGetOutputName(sessionHandle, i);\r\n      if (name === 0) {\r\n        checkLastError('Can\\'t get an output name.');\r\n      }\r\n      outputNamesUTF8Encoded.push(name);\r\n      const nameString = wasm.UTF8ToString(name);\r\n      outputNames.push(nameString);\r\n\r\n      if (!BUILD_DEFS.DISABLE_WEBGPU) {\r\n        if (enableGraphCapture && options?.preferredOutputLocation === undefined) {\r\n          outputPreferredLocations.push('gpu-buffer');\r\n          continue;\r\n        }\r\n        const location = typeof options?.preferredOutputLocation === 'string' ?\r\n            options.preferredOutputLocation :\r\n            options?.preferredOutputLocation?.[nameString] ?? 'cpu';\r\n        if (location !== 'cpu' && location !== 'cpu-pinned' && location !== 'gpu-buffer') {\r\n          throw new Error(`Not supported preferred output location: ${location}.`);\r\n        }\r\n        if (enableGraphCapture && location !== 'gpu-buffer') {\r\n          throw new Error(`Not supported preferred output location: ${\r\n              location}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`);\r\n        }\r\n        outputPreferredLocations.push(location);\r\n      }\r\n    }\r\n\r\n    // use IO binding only when at least one output is preffered to be on GPU.\r\n    let bindingState: IOBindingState|null = null;\r\n    if (!BUILD_DEFS.DISABLE_WEBGPU && outputPreferredLocations.some(l => l === 'gpu-buffer')) {\r\n      ioBindingHandle = wasm._OrtCreateBinding(sessionHandle);\r\n      if (ioBindingHandle === 0) {\r\n        checkLastError('Can\\'t create IO binding.');\r\n      }\r\n\r\n      bindingState = {\r\n        handle: ioBindingHandle,\r\n        outputPreferredLocations,\r\n        outputPreferredLocationsEncoded: outputPreferredLocations.map(l => dataLocationStringToEnum(l)),\r\n      };\r\n    }\r\n\r\n    activeSessions.set(\r\n        sessionHandle,\r\n        [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, bindingState, enableGraphCapture, false]);\r\n    return [sessionHandle, inputNames, outputNames];\r\n  } catch (e) {\r\n    inputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\r\n    outputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\r\n\r\n    if (ioBindingHandle !== 0) {\r\n      wasm._OrtReleaseBinding(ioBindingHandle);\r\n    }\r\n\r\n    if (sessionHandle !== 0) {\r\n      wasm._OrtReleaseSession(sessionHandle);\r\n    }\r\n    throw e;\r\n  } finally {\r\n    wasm._free(modelDataOffset);\r\n    if (sessionOptionsHandle !== 0) {\r\n      wasm._OrtReleaseSessionOptions(sessionOptionsHandle);\r\n    }\r\n    allocs.forEach(alloc => wasm._free(alloc));\r\n\r\n    // unmount external data if necessary\r\n    wasm.unmountExternalData?.();\r\n  }\r\n};\r\n\r\nexport const releaseSession = (sessionId: number): void => {\r\n  const wasm = getInstance();\r\n  const session = activeSessions.get(sessionId);\r\n  if (!session) {\r\n    throw new Error(`cannot release session. invalid session id: ${sessionId}`);\r\n  }\r\n  const [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, ioBindingState, enableGraphCapture] = session;\r\n\r\n  if (ioBindingState) {\r\n    if (enableGraphCapture) {\r\n      wasm._OrtClearBoundOutputs(ioBindingState.handle);\r\n    }\r\n    wasm._OrtReleaseBinding(ioBindingState.handle);\r\n  }\r\n\r\n  wasm.jsepOnReleaseSession?.(sessionId);\r\n\r\n  inputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\r\n  outputNamesUTF8Encoded.forEach(buf => wasm._OrtFree(buf));\r\n  wasm._OrtReleaseSession(sessionHandle);\r\n  activeSessions.delete(sessionId);\r\n};\r\n\r\nexport const prepareInputOutputTensor =\r\n    (tensor: TensorMetadata|null, tensorHandles: number[], allocs: number[], sessionId: number, index: number,\r\n     enableGraphCapture = false): void => {\r\n      if (!tensor) {\r\n        tensorHandles.push(0);\r\n        return;\r\n      }\r\n\r\n      const wasm = getInstance();\r\n\r\n      const dataType = tensor[0];\r\n      const dims = tensor[1];\r\n      const location = tensor[3];\r\n\r\n      let rawData: number;\r\n      let dataByteLength: number;\r\n\r\n      if (dataType === 'string' && location === 'gpu-buffer') {\r\n        throw new Error('String tensor is not supported on GPU.');\r\n      }\r\n\r\n      if (enableGraphCapture && location !== 'gpu-buffer') {\r\n        throw new Error(\r\n            `External buffer must be provided for input/output index ${index} when enableGraphCapture is true.`);\r\n      }\r\n\r\n      if (location === 'gpu-buffer') {\r\n        const gpuBuffer = tensor[2].gpuBuffer as GPUBuffer;\r\n        const elementSizeInBytes = getTensorElementSize(tensorDataTypeStringToEnum(dataType))!;\r\n        dataByteLength = dims.reduce((a, b) => a * b, 1) * elementSizeInBytes;\r\n\r\n        const registerBuffer = wasm.jsepRegisterBuffer;\r\n        if (!registerBuffer) {\r\n          throw new Error('Tensor location \"gpu-buffer\" is not supported without using WebGPU.');\r\n        }\r\n        rawData = registerBuffer(sessionId, index, gpuBuffer, dataByteLength);\r\n      } else {\r\n        const data = tensor[2];\r\n\r\n        if (Array.isArray(data)) {\r\n          // string tensor\r\n          dataByteLength = 4 * data.length;\r\n          rawData = wasm._malloc(dataByteLength);\r\n          allocs.push(rawData);\r\n          let dataIndex = rawData / 4;\r\n          for (let i = 0; i < data.length; i++) {\r\n            if (typeof data[i] !== 'string') {\r\n              throw new TypeError(`tensor data at index ${i} is not a string`);\r\n            }\r\n            wasm.HEAPU32[dataIndex++] = allocWasmString(data[i], allocs);\r\n          }\r\n        } else {\r\n          dataByteLength = data.byteLength;\r\n          rawData = wasm._malloc(dataByteLength);\r\n          allocs.push(rawData);\r\n          wasm.HEAPU8.set(new Uint8Array(data.buffer, data.byteOffset, dataByteLength), rawData);\r\n        }\r\n      }\r\n\r\n      const stack = wasm.stackSave();\r\n      const dimsOffset = wasm.stackAlloc(4 * dims.length);\r\n      try {\r\n        let dimIndex = dimsOffset / 4;\r\n        dims.forEach(d => wasm.HEAP32[dimIndex++] = d);\r\n        const tensor = wasm._OrtCreateTensor(\r\n            tensorDataTypeStringToEnum(dataType), rawData, dataByteLength, dimsOffset, dims.length,\r\n            dataLocationStringToEnum(location));\r\n        if (tensor === 0) {\r\n          checkLastError(`Can't create tensor for input/output. session=${sessionId}, index=${index}.`);\r\n        }\r\n        tensorHandles.push(tensor);\r\n      } finally {\r\n        wasm.stackRestore(stack);\r\n      }\r\n    };\r\n\r\n/**\r\n * perform inference run\r\n */\r\nexport const run = async(\r\n    sessionId: number, inputIndices: number[], inputTensors: TensorMetadata[], outputIndices: number[],\r\n    outputTensors: Array<TensorMetadata|null>, options: InferenceSession.RunOptions): Promise<TensorMetadata[]> => {\r\n  const wasm = getInstance();\r\n  const session = activeSessions.get(sessionId);\r\n  if (!session) {\r\n    throw new Error(`cannot run inference. invalid session id: ${sessionId}`);\r\n  }\r\n  const sessionHandle = session[0];\r\n  const inputNamesUTF8Encoded = session[1];\r\n  const outputNamesUTF8Encoded = session[2];\r\n  const ioBindingState = session[3];\r\n  const enableGraphCapture = session[4];\r\n  const inputOutputBound = session[5];\r\n\r\n  const inputCount = inputIndices.length;\r\n  const outputCount = outputIndices.length;\r\n\r\n  let runOptionsHandle = 0;\r\n  let runOptionsAllocs: number[] = [];\r\n\r\n  const inputTensorHandles: number[] = [];\r\n  const outputTensorHandles: number[] = [];\r\n  const inputOutputAllocs: number[] = [];\r\n\r\n  const beforeRunStack = wasm.stackSave();\r\n  const inputValuesOffset = wasm.stackAlloc(inputCount * 4);\r\n  const inputNamesOffset = wasm.stackAlloc(inputCount * 4);\r\n  const outputValuesOffset = wasm.stackAlloc(outputCount * 4);\r\n  const outputNamesOffset = wasm.stackAlloc(outputCount * 4);\r\n\r\n  try {\r\n    [runOptionsHandle, runOptionsAllocs] = setRunOptions(options);\r\n\r\n    // create input tensors\r\n    for (let i = 0; i < inputCount; i++) {\r\n      prepareInputOutputTensor(\r\n          inputTensors[i], inputTensorHandles, inputOutputAllocs, sessionId, inputIndices[i], enableGraphCapture);\r\n    }\r\n\r\n    // create output tensors\r\n    for (let i = 0; i < outputCount; i++) {\r\n      prepareInputOutputTensor(\r\n          outputTensors[i], outputTensorHandles, inputOutputAllocs, sessionId, inputCount + outputIndices[i],\r\n          enableGraphCapture);\r\n    }\r\n\r\n    let inputValuesIndex = inputValuesOffset / 4;\r\n    let inputNamesIndex = inputNamesOffset / 4;\r\n    let outputValuesIndex = outputValuesOffset / 4;\r\n    let outputNamesIndex = outputNamesOffset / 4;\r\n    for (let i = 0; i < inputCount; i++) {\r\n      wasm.HEAPU32[inputValuesIndex++] = inputTensorHandles[i];\r\n      wasm.HEAPU32[inputNamesIndex++] = inputNamesUTF8Encoded[inputIndices[i]];\r\n    }\r\n    for (let i = 0; i < outputCount; i++) {\r\n      wasm.HEAPU32[outputValuesIndex++] = outputTensorHandles[i];\r\n      wasm.HEAPU32[outputNamesIndex++] = outputNamesUTF8Encoded[outputIndices[i]];\r\n    }\r\n\r\n    if (!BUILD_DEFS.DISABLE_WEBGPU && ioBindingState && !inputOutputBound) {\r\n      const {handle, outputPreferredLocations, outputPreferredLocationsEncoded} = ioBindingState;\r\n\r\n      if (inputNamesUTF8Encoded.length !== inputCount) {\r\n        throw new Error(`input count from feeds (${\r\n            inputCount}) is expected to be always equal to model's input count (${inputNamesUTF8Encoded.length}).`);\r\n      }\r\n\r\n      // process inputs\r\n      for (let i = 0; i < inputCount; i++) {\r\n        const index = inputIndices[i];\r\n        const errorCode = await wasm._OrtBindInput(handle, inputNamesUTF8Encoded[index], inputTensorHandles[i]);\r\n        if (errorCode !== 0) {\r\n          checkLastError(`Can't bind input[${i}] for session=${sessionId}.`);\r\n        }\r\n      }\r\n\r\n      // process pre-allocated outputs\r\n      for (let i = 0; i < outputCount; i++) {\r\n        const index = outputIndices[i];\r\n        const location = outputTensors[i]?.[3];  // undefined means output is not pre-allocated.\r\n\r\n        if (location) {\r\n          // output is pre-allocated. bind the tensor.\r\n          const errorCode = wasm._OrtBindOutput(handle, outputNamesUTF8Encoded[index], outputTensorHandles[i], 0);\r\n          if (errorCode !== 0) {\r\n            checkLastError(`Can't bind pre-allocated output[${i}] for session=${sessionId}.`);\r\n          }\r\n        } else {\r\n          // output is not pre-allocated. reset preferred location.\r\n          const errorCode =\r\n              wasm._OrtBindOutput(handle, outputNamesUTF8Encoded[index], 0, outputPreferredLocationsEncoded[index]);\r\n          if (errorCode !== 0) {\r\n            checkLastError(`Can't bind output[${i}] to ${outputPreferredLocations[i]} for session=${sessionId}.`);\r\n          }\r\n        }\r\n      }\r\n      activeSessions.set(\r\n          sessionId,\r\n          [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, ioBindingState, enableGraphCapture, true]);\r\n    }\r\n\r\n    wasm.jsepOnRunStart?.(sessionHandle);\r\n    let errorCode: number;\r\n    if (!BUILD_DEFS.DISABLE_WEBGPU && ioBindingState) {\r\n      errorCode = await wasm._OrtRunWithBinding(\r\n          sessionHandle, ioBindingState.handle, outputCount, outputValuesOffset, runOptionsHandle);\r\n    } else {\r\n      errorCode = await wasm._OrtRun(\r\n          sessionHandle, inputNamesOffset, inputValuesOffset, inputCount, outputNamesOffset, outputCount,\r\n          outputValuesOffset, runOptionsHandle);\r\n    }\r\n\r\n    if (errorCode !== 0) {\r\n      checkLastError('failed to call OrtRun().');\r\n    }\r\n\r\n    const output: TensorMetadata[] = [];\r\n\r\n    for (let i = 0; i < outputCount; i++) {\r\n      const tensor = wasm.HEAPU32[outputValuesOffset / 4 + i];\r\n      if (tensor === outputTensorHandles[i]) {\r\n        // output tensor is pre-allocated. no need to copy data.\r\n        output.push(outputTensors[i]!);\r\n        continue;\r\n      }\r\n\r\n      const beforeGetTensorDataStack = wasm.stackSave();\r\n      // stack allocate 4 pointer value\r\n      const tensorDataOffset = wasm.stackAlloc(4 * 4);\r\n\r\n      let keepOutputTensor = false;\r\n      let type: Tensor.Type|undefined, dataOffset = 0;\r\n      try {\r\n        const errorCode = wasm._OrtGetTensorData(\r\n            tensor, tensorDataOffset, tensorDataOffset + 4, tensorDataOffset + 8, tensorDataOffset + 12);\r\n        if (errorCode !== 0) {\r\n          checkLastError(`Can't access output tensor data on index ${i}.`);\r\n        }\r\n        let tensorDataIndex = tensorDataOffset / 4;\r\n        const dataType = wasm.HEAPU32[tensorDataIndex++];\r\n        dataOffset = wasm.HEAPU32[tensorDataIndex++];\r\n        const dimsOffset = wasm.HEAPU32[tensorDataIndex++];\r\n        const dimsLength = wasm.HEAPU32[tensorDataIndex++];\r\n        const dims = [];\r\n        for (let i = 0; i < dimsLength; i++) {\r\n          dims.push(wasm.HEAPU32[dimsOffset / 4 + i]);\r\n        }\r\n        wasm._OrtFree(dimsOffset);\r\n\r\n        const size = dims.reduce((a, b) => a * b, 1);\r\n        type = tensorDataTypeEnumToString(dataType);\r\n\r\n        const preferredLocation = ioBindingState?.outputPreferredLocations[outputIndices[i]];\r\n\r\n        if (type === 'string') {\r\n          if (preferredLocation === 'gpu-buffer') {\r\n            throw new Error('String tensor is not supported on GPU.');\r\n          }\r\n          const stringData: string[] = [];\r\n          let dataIndex = dataOffset / 4;\r\n          for (let i = 0; i < size; i++) {\r\n            const offset = wasm.HEAPU32[dataIndex++];\r\n            const maxBytesToRead = i === size - 1 ? undefined : wasm.HEAPU32[dataIndex] - offset;\r\n            stringData.push(wasm.UTF8ToString(offset, maxBytesToRead));\r\n          }\r\n          output.push([type, dims, stringData, 'cpu']);\r\n        } else {\r\n          // If a certain output's preferred location is GPU but the tensor is empty, we still need to create a CPU\r\n          // tensor for it. There is no mapping GPU buffer for an empty tensor.\r\n          if (preferredLocation === 'gpu-buffer' && size > 0) {\r\n            const getBuffer = wasm.jsepGetBuffer;\r\n            if (!getBuffer) {\r\n              throw new Error('preferredLocation \"gpu-buffer\" is not supported without using WebGPU.');\r\n            }\r\n            const gpuBuffer = getBuffer(dataOffset);\r\n            const elementSize = getTensorElementSize(dataType);\r\n            if (elementSize === undefined || !isGpuBufferSupportedType(type)) {\r\n              throw new Error(`Unsupported data type: ${type}`);\r\n            }\r\n\r\n            // do not release the tensor right now. it will be released when user calls tensor.dispose().\r\n            keepOutputTensor = true;\r\n\r\n            output.push([\r\n              type, dims, {\r\n                gpuBuffer,\r\n                download: wasm.jsepCreateDownloader!(gpuBuffer, size * elementSize, type),\r\n                dispose: () => {\r\n                  wasm._OrtReleaseTensor(tensor);\r\n                }\r\n              },\r\n              'gpu-buffer'\r\n            ]);\r\n          } else {\r\n            const typedArrayConstructor = tensorTypeToTypedArrayConstructor(type);\r\n            const data = new typedArrayConstructor(size);\r\n            new Uint8Array(data.buffer, data.byteOffset, data.byteLength)\r\n                .set(wasm.HEAPU8.subarray(dataOffset, dataOffset + data.byteLength));\r\n            output.push([type, dims, data, 'cpu']);\r\n          }\r\n        }\r\n      } finally {\r\n        wasm.stackRestore(beforeGetTensorDataStack);\r\n        if (type === 'string' && dataOffset) {\r\n          wasm._free(dataOffset);\r\n        }\r\n        if (!keepOutputTensor) {\r\n          wasm._OrtReleaseTensor(tensor);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (ioBindingState && !enableGraphCapture) {\r\n      wasm._OrtClearBoundOutputs(ioBindingState.handle);\r\n      activeSessions.set(\r\n          sessionId,\r\n          [sessionHandle, inputNamesUTF8Encoded, outputNamesUTF8Encoded, ioBindingState, enableGraphCapture, false]);\r\n    }\r\n    return output;\r\n  } finally {\r\n    wasm.stackRestore(beforeRunStack);\r\n\r\n    inputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\r\n    outputTensorHandles.forEach(v => wasm._OrtReleaseTensor(v));\r\n    inputOutputAllocs.forEach(p => wasm._free(p));\r\n\r\n    if (runOptionsHandle !== 0) {\r\n      wasm._OrtReleaseRunOptions(runOptionsHandle);\r\n    }\r\n    runOptionsAllocs.forEach(p => wasm._free(p));\r\n  }\r\n};\r\n\r\n/**\r\n * end profiling\r\n */\r\nexport const endProfiling = (sessionId: number): void => {\r\n  const wasm = getInstance();\r\n  const session = activeSessions.get(sessionId);\r\n  if (!session) {\r\n    throw new Error('invalid session id');\r\n  }\r\n  const sessionHandle = session[0];\r\n\r\n  // profile file name is not used yet, but it must be freed.\r\n  const profileFileName = wasm._OrtEndProfiling(sessionHandle);\r\n  if (profileFileName === 0) {\r\n    checkLastError('Can\\'t get an profile file name.');\r\n  }\r\n  wasm._OrtFree(profileFileName);\r\n};\r\n\r\nexport const extractTransferableBuffers = (tensors: readonly SerializableTensorMetadata[]): ArrayBufferLike[] => {\r\n  const buffers: ArrayBufferLike[] = [];\r\n  for (const tensor of tensors) {\r\n    const data = tensor[2];\r\n    if (!Array.isArray(data) && 'buffer' in data) {\r\n      buffers.push(data.buffer);\r\n    }\r\n  }\r\n  return buffers;\r\n};\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {env, InferenceSession} from 'onnxruntime-common';\r\n\r\nimport {OrtWasmMessage, SerializableInternalBuffer, SerializableSessionMetadata, SerializableTensorMetadata, TensorMetadata} from './proxy-messages';\r\nimport * as core from './wasm-core-impl';\r\nimport {initializeWebAssembly} from './wasm-factory';\r\n\r\nconst isProxy = (): boolean => !!env.wasm.proxy && typeof document !== 'undefined';\r\nlet proxyWorker: Worker|undefined;\r\nlet initializing = false;\r\nlet initialized = false;\r\nlet aborted = false;\r\n\r\ntype PromiseCallbacks<T = void> = [resolve: (result: T) => void, reject: (reason: unknown) => void];\r\nlet initWasmCallbacks: PromiseCallbacks;\r\nconst queuedCallbacks: Map<OrtWasmMessage['type'], Array<PromiseCallbacks<unknown>>> = new Map();\r\n\r\nconst enqueueCallbacks = (type: OrtWasmMessage['type'], callbacks: PromiseCallbacks<unknown>): void => {\r\n  const queue = queuedCallbacks.get(type);\r\n  if (queue) {\r\n    queue.push(callbacks);\r\n  } else {\r\n    queuedCallbacks.set(type, [callbacks]);\r\n  }\r\n};\r\n\r\nconst ensureWorker = (): void => {\r\n  if (initializing || !initialized || aborted || !proxyWorker) {\r\n    throw new Error('worker not ready');\r\n  }\r\n};\r\n\r\nconst onProxyWorkerMessage = (ev: MessageEvent<OrtWasmMessage>): void => {\r\n  switch (ev.data.type) {\r\n    case 'init-wasm':\r\n      initializing = false;\r\n      if (ev.data.err) {\r\n        aborted = true;\r\n        initWasmCallbacks[1](ev.data.err);\r\n      } else {\r\n        initialized = true;\r\n        initWasmCallbacks[0]();\r\n      }\r\n      break;\r\n    case 'init-ep':\r\n    case 'copy-from':\r\n    case 'create':\r\n    case 'release':\r\n    case 'run':\r\n    case 'end-profiling': {\r\n      const callbacks = queuedCallbacks.get(ev.data.type)!;\r\n      if (ev.data.err) {\r\n        callbacks.shift()![1](ev.data.err);\r\n      } else {\r\n        callbacks.shift()![0](ev.data.out!);\r\n      }\r\n      break;\r\n    }\r\n    default:\r\n  }\r\n};\r\n\r\nconst scriptSrc = typeof document !== 'undefined' ? (document?.currentScript as HTMLScriptElement)?.src : undefined;\r\n\r\nexport const initializeWebAssemblyAndOrtRuntime = async(): Promise<void> => {\r\n  if (initialized) {\r\n    return;\r\n  }\r\n  if (initializing) {\r\n    throw new Error('multiple calls to \\'initWasm()\\' detected.');\r\n  }\r\n  if (aborted) {\r\n    throw new Error('previous call to \\'initWasm()\\' failed.');\r\n  }\r\n\r\n  initializing = true;\r\n\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    // overwrite wasm filepaths\r\n    if (env.wasm.wasmPaths === undefined) {\r\n      if (scriptSrc && scriptSrc.indexOf('blob:') !== 0) {\r\n        env.wasm.wasmPaths = scriptSrc.substr(0, +(scriptSrc).lastIndexOf('/') + 1);\r\n      }\r\n    }\r\n\r\n    return new Promise<void>((resolve, reject) => {\r\n      proxyWorker?.terminate();\r\n\r\n      const workerUrl = URL.createObjectURL(new Blob(\r\n          [\r\n            // This require() function is handled by esbuild plugin to load file content as string.\r\n            // eslint-disable-next-line @typescript-eslint/no-require-imports\r\n            require('./proxy-worker/main')\r\n          ],\r\n          {type: 'text/javascript'}));\r\n      proxyWorker = new Worker(workerUrl, {name: 'ort-wasm-proxy-worker'});\r\n      proxyWorker.onerror = (ev: ErrorEvent) => reject(ev);\r\n      proxyWorker.onmessage = onProxyWorkerMessage;\r\n      URL.revokeObjectURL(workerUrl);\r\n      initWasmCallbacks = [resolve, reject];\r\n      const message: OrtWasmMessage = {type: 'init-wasm', in : env};\r\n      proxyWorker.postMessage(message);\r\n    });\r\n\r\n  } else {\r\n    try {\r\n      await initializeWebAssembly(env.wasm);\r\n      await core.initRuntime(env);\r\n      initialized = true;\r\n    } catch (e) {\r\n      aborted = true;\r\n      throw e;\r\n    } finally {\r\n      initializing = false;\r\n    }\r\n  }\r\n};\r\n\r\nexport const initializeOrtEp = async(epName: string): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<void>((resolve, reject) => {\r\n      enqueueCallbacks('init-ep', [resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'init-ep', in : {epName, env}};\r\n      proxyWorker!.postMessage(message);\r\n    });\r\n  } else {\r\n    await core.initEp(env, epName);\r\n  }\r\n};\r\n\r\nexport const copyFromExternalBuffer = async(buffer: Uint8Array): Promise<SerializableInternalBuffer> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<SerializableInternalBuffer>((resolve, reject) => {\r\n      enqueueCallbacks('copy-from', [resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'copy-from', in : {buffer}};\r\n      proxyWorker!.postMessage(message, [buffer.buffer]);\r\n    });\r\n  } else {\r\n    return core.copyFromExternalBuffer(buffer);\r\n  }\r\n};\r\n\r\nexport const createSession =\r\n    async(model: SerializableInternalBuffer|Uint8Array, options?: InferenceSession.SessionOptions):\r\n        Promise<SerializableSessionMetadata> => {\r\n          if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n            // check unsupported options\r\n            if (options?.preferredOutputLocation) {\r\n              throw new Error('session option \"preferredOutputLocation\" is not supported for proxy.');\r\n            }\r\n            ensureWorker();\r\n            return new Promise<SerializableSessionMetadata>((resolve, reject) => {\r\n              enqueueCallbacks('create', [resolve, reject]);\r\n              const message: OrtWasmMessage = {type: 'create', in : {model, options: {...options}}};\r\n              const transferable: Transferable[] = [];\r\n              if (model instanceof Uint8Array) {\r\n                transferable.push(model.buffer);\r\n              }\r\n              proxyWorker!.postMessage(message, transferable);\r\n            });\r\n          } else {\r\n            return core.createSession(model, options);\r\n          }\r\n        };\r\n\r\nexport const releaseSession = async(sessionId: number): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<void>((resolve, reject) => {\r\n      enqueueCallbacks('release', [resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'release', in : sessionId};\r\n      proxyWorker!.postMessage(message);\r\n    });\r\n  } else {\r\n    core.releaseSession(sessionId);\r\n  }\r\n};\r\n\r\nexport const run = async(\r\n    sessionId: number, inputIndices: number[], inputs: TensorMetadata[], outputIndices: number[],\r\n    outputs: Array<TensorMetadata|null>, options: InferenceSession.RunOptions): Promise<TensorMetadata[]> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    // check inputs location\r\n    if (inputs.some(t => t[3] !== 'cpu')) {\r\n      throw new Error('input tensor on GPU is not supported for proxy.');\r\n    }\r\n    // check outputs location\r\n    if (outputs.some(t => t)) {\r\n      throw new Error('pre-allocated output tensor is not supported for proxy.');\r\n    }\r\n    ensureWorker();\r\n    return new Promise<SerializableTensorMetadata[]>((resolve, reject) => {\r\n      enqueueCallbacks('run', [resolve, reject]);\r\n      const serializableInputs = inputs as SerializableTensorMetadata[];  // every input is on CPU.\r\n      const message: OrtWasmMessage =\r\n          {type: 'run', in : {sessionId, inputIndices, inputs: serializableInputs, outputIndices, options}};\r\n      proxyWorker!.postMessage(message, core.extractTransferableBuffers(serializableInputs));\r\n    });\r\n  } else {\r\n    return core.run(sessionId, inputIndices, inputs, outputIndices, outputs, options);\r\n  }\r\n};\r\n\r\nexport const endProfiling = async(sessionId: number): Promise<void> => {\r\n  if (!BUILD_DEFS.DISABLE_WASM_PROXY && isProxy()) {\r\n    ensureWorker();\r\n    return new Promise<void>((resolve, reject) => {\r\n      enqueueCallbacks('end-profiling', [resolve, reject]);\r\n      const message: OrtWasmMessage = {type: 'end-profiling', in : sessionId};\r\n      proxyWorker!.postMessage(message);\r\n    });\r\n  } else {\r\n    core.endProfiling(sessionId);\r\n  }\r\n};\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {InferenceSession, InferenceSessionHandler, SessionHandler, Tensor, TRACE_FUNC_BEGIN, TRACE_FUNC_END} from 'onnxruntime-common';\r\n\r\nimport {SerializableInternalBuffer, TensorMetadata} from './proxy-messages';\r\nimport {copyFromExternalBuffer, createSession, endProfiling, releaseSession, run} from './proxy-wrapper';\r\nimport {isGpuBufferSupportedType} from './wasm-common';\r\nimport {loadFile} from './wasm-utils-load-file';\r\n\r\nexport const encodeTensorMetadata = (tensor: Tensor, getName: () => string): TensorMetadata => {\r\n  switch (tensor.location) {\r\n    case 'cpu':\r\n      return [tensor.type, tensor.dims, tensor.data, 'cpu'];\r\n    case 'gpu-buffer':\r\n      return [tensor.type, tensor.dims, {gpuBuffer: tensor.gpuBuffer}, 'gpu-buffer'];\r\n    default:\r\n      throw new Error(`invalid data location: ${tensor.location} for ${getName()}`);\r\n  }\r\n};\r\n\r\nexport const decodeTensorMetadata = (tensor: TensorMetadata): Tensor => {\r\n  switch (tensor[3]) {\r\n    case 'cpu':\r\n      return new Tensor(tensor[0], tensor[2], tensor[1]);\r\n    case 'gpu-buffer': {\r\n      const dataType = tensor[0];\r\n      if (!isGpuBufferSupportedType(dataType)) {\r\n        throw new Error(`not supported data type: ${dataType} for deserializing GPU tensor`);\r\n      }\r\n      const {gpuBuffer, download, dispose} = tensor[2];\r\n      return Tensor.fromGpuBuffer(gpuBuffer, {dataType, dims: tensor[1], download, dispose});\r\n    }\r\n    default:\r\n      throw new Error(`invalid data location: ${tensor[3]}`);\r\n  }\r\n};\r\n\r\nexport class OnnxruntimeWebAssemblySessionHandler implements InferenceSessionHandler {\r\n  private sessionId: number;\r\n\r\n  inputNames: string[];\r\n  outputNames: string[];\r\n\r\n  async fetchModelAndCopyToWasmMemory(path: string): Promise<SerializableInternalBuffer> {\r\n    // fetch model from url and move to wasm heap.\r\n    return copyFromExternalBuffer(await loadFile(path));\r\n  }\r\n\r\n  async loadModel(pathOrBuffer: string|Uint8Array, options?: InferenceSession.SessionOptions): Promise<void> {\r\n    TRACE_FUNC_BEGIN();\r\n    let model: Parameters<typeof createSession>[0];\r\n\r\n    if (typeof pathOrBuffer === 'string') {\r\n      if (typeof process !== 'undefined' && process.versions && process.versions.node) {\r\n        // node\r\n        model = await loadFile(pathOrBuffer);\r\n      } else {\r\n        // browser\r\n        // fetch model and copy to wasm heap.\r\n        model = await this.fetchModelAndCopyToWasmMemory(pathOrBuffer);\r\n      }\r\n    } else {\r\n      model = pathOrBuffer;\r\n    }\r\n\r\n    [this.sessionId, this.inputNames, this.outputNames] = await createSession(model, options);\r\n    TRACE_FUNC_END();\r\n  }\r\n\r\n  async dispose(): Promise<void> {\r\n    return releaseSession(this.sessionId);\r\n  }\r\n\r\n  async run(feeds: SessionHandler.FeedsType, fetches: SessionHandler.FetchesType, options: InferenceSession.RunOptions):\r\n      Promise<SessionHandler.ReturnType> {\r\n    TRACE_FUNC_BEGIN();\r\n    const inputArray: Tensor[] = [];\r\n    const inputIndices: number[] = [];\r\n    Object.entries(feeds).forEach(kvp => {\r\n      const name = kvp[0];\r\n      const tensor = kvp[1];\r\n      const index = this.inputNames.indexOf(name);\r\n      if (index === -1) {\r\n        throw new Error(`invalid input '${name}'`);\r\n      }\r\n      inputArray.push(tensor);\r\n      inputIndices.push(index);\r\n    });\r\n\r\n    const outputArray: Array<Tensor|null> = [];\r\n    const outputIndices: number[] = [];\r\n    Object.entries(fetches).forEach(kvp => {\r\n      const name = kvp[0];\r\n      const tensor = kvp[1];\r\n      const index = this.outputNames.indexOf(name);\r\n      if (index === -1) {\r\n        throw new Error(`invalid output '${name}'`);\r\n      }\r\n      outputArray.push(tensor);\r\n      outputIndices.push(index);\r\n    });\r\n\r\n    const inputs =\r\n        inputArray.map((t, i) => encodeTensorMetadata(t, () => `input \"${this.inputNames[inputIndices[i]]}\"`));\r\n    const outputs = outputArray.map(\r\n        (t, i) => t ? encodeTensorMetadata(t, () => `output \"${this.outputNames[outputIndices[i]]}\"`) : null);\r\n\r\n    const results = await run(this.sessionId, inputIndices, inputs, outputIndices, outputs, options);\r\n\r\n    const resultMap: SessionHandler.ReturnType = {};\r\n    for (let i = 0; i < results.length; i++) {\r\n      resultMap[this.outputNames[outputIndices[i]]] = outputArray[i] ?? decodeTensorMetadata(results[i]);\r\n    }\r\n    TRACE_FUNC_END();\r\n    return resultMap;\r\n  }\r\n\r\n  startProfiling(): void {\r\n    // TODO: implement profiling\r\n  }\r\n\r\n  endProfiling(): void {\r\n    void endProfiling(this.sessionId);\r\n  }\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {cpus} from 'node:os';\r\nimport {Backend, env, InferenceSession, InferenceSessionHandler} from 'onnxruntime-common';\r\n\r\nimport {initializeOrtEp, initializeWebAssemblyAndOrtRuntime} from './wasm/proxy-wrapper';\r\nimport {OnnxruntimeWebAssemblySessionHandler} from './wasm/session-handler-inference';\r\n\r\n/**\r\n * This function initializes all flags for WebAssembly.\r\n *\r\n * Those flags are accessible from `ort.env.wasm`. Users are allow to set those flags before the first inference session\r\n * being created, to override default value.\r\n */\r\nexport const initializeFlags = (): void => {\r\n  if (typeof env.wasm.initTimeout !== 'number' || env.wasm.initTimeout < 0) {\r\n    env.wasm.initTimeout = 0;\r\n  }\r\n\r\n  if (typeof env.wasm.simd !== 'boolean') {\r\n    env.wasm.simd = true;\r\n  }\r\n\r\n  if (typeof env.wasm.proxy !== 'boolean') {\r\n    env.wasm.proxy = false;\r\n  }\r\n\r\n  if (typeof env.wasm.trace !== 'boolean') {\r\n    env.wasm.trace = false;\r\n  }\r\n\r\n  if (typeof env.wasm.numThreads !== 'number' || !Number.isInteger(env.wasm.numThreads) || env.wasm.numThreads <= 0) {\r\n    // Web: when crossOriginIsolated is false, SharedArrayBuffer is not available so WebAssembly threads will not work.\r\n    // Node.js: onnxruntime-web does not support multi-threads in Node.js.\r\n    if ((typeof self !== 'undefined' && !self.crossOriginIsolated) ||\r\n        (typeof process !== 'undefined' && process.versions && process.versions.node)) {\r\n      env.wasm.numThreads = 1;\r\n    }\r\n    const numCpuLogicalCores = typeof navigator === 'undefined' ? cpus().length : navigator.hardwareConcurrency;\r\n    env.wasm.numThreads = Math.min(4, Math.ceil((numCpuLogicalCores || 1) / 2));\r\n  }\r\n};\r\n\r\nexport class OnnxruntimeWebAssemblyBackend implements Backend {\r\n  /**\r\n   * This function initializes the WebAssembly backend.\r\n   *\r\n   * This function will be called only once for each backend name. It will be called the first time when\r\n   * `ort.InferenceSession.create()` is called with a registered backend name.\r\n   *\r\n   * @param backendName - the registered backend name.\r\n   */\r\n  async init(backendName: string): Promise<void> {\r\n    // populate wasm flags\r\n    initializeFlags();\r\n\r\n    // init wasm\r\n    await initializeWebAssemblyAndOrtRuntime();\r\n\r\n    // performe EP specific initialization\r\n    await initializeOrtEp(backendName);\r\n  }\r\n  createInferenceSessionHandler(path: string, options?: InferenceSession.SessionOptions):\r\n      Promise<InferenceSessionHandler>;\r\n  createInferenceSessionHandler(buffer: Uint8Array, options?: InferenceSession.SessionOptions):\r\n      Promise<InferenceSessionHandler>;\r\n  async createInferenceSessionHandler(pathOrBuffer: string|Uint8Array, options?: InferenceSession.SessionOptions):\r\n      Promise<InferenceSessionHandler> {\r\n    const handler = new OnnxruntimeWebAssemblySessionHandler();\r\n    await handler.loadModel(pathOrBuffer, options);\r\n    return Promise.resolve(handler);\r\n  }\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\nimport {OnnxruntimeWebAssemblyBackend} from './backend-wasm';\r\nexport const wasmBackend = new OnnxruntimeWebAssemblyBackend();\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\n/* eslint-disable @typescript-eslint/no-var-requires, @typescript-eslint/no-require-imports */\r\n// We use \"require\" instead of \"import\" here because import statement must be put in top level. Our current code does\r\n// not allow bundler to tree-shaking code as expected because some codes are treated as having side effects.\r\n// So we import code inside the if-clause to allow bundler remove the code safely.\r\n\r\nexport * from 'onnxruntime-common';\r\nimport * as ort from 'onnxruntime-common';\r\nexport default ort;\r\n\r\nimport {registerBackend, env} from 'onnxruntime-common';\r\nimport {version} from './version';\r\n\r\nif (!BUILD_DEFS.DISABLE_WEBGL) {\r\n  const onnxjsBackend = require('./backend-onnxjs').onnxjsBackend;\r\n  registerBackend('webgl', onnxjsBackend, -10);\r\n}\r\n\r\nif (!BUILD_DEFS.DISABLE_WASM) {\r\n  const wasmBackend = BUILD_DEFS.DISABLE_TRAINING ? require('./backend-wasm-inference').wasmBackend :\r\n                                                    require('./backend-wasm-training').wasmBackend;\r\n  if (!BUILD_DEFS.DISABLE_WEBGPU) {\r\n    registerBackend('webgpu', wasmBackend, 5);\r\n    registerBackend('webnn', wasmBackend, 5);\r\n  }\r\n  registerBackend('cpu', wasmBackend, 10);\r\n  registerBackend('wasm', wasmBackend, 10);\r\n}\r\n\r\nObject.defineProperty(env.versions, 'web', {value: version, enumerable: true});\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\n// This file is generated by /js/scripts/update-version.ts\r\n// Do not modify file content manually.\r\n\r\nexport const version = '1.18.0';\r\n"],
  "mappings": "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",
  "names": ["require_ort_wasm", "__commonJSMin", "exports", "module", "ortWasm", "_scriptDir", "moduleArg", "f", "k", "l", "readyPromise", "a", "b", "v", "aa", "w", "ba", "z", "A", "B", "C", "fs", "D", "E", "c", "e", "g", "h", "ca", "F", "G", "da", "H", "I", "J", "K", "ea", "fa", "L", "M", "ha", "N", "O", "P", "ia", "ja", "Q", "ka", "la", "ma", "na", "oa", "R", "pa", "S", "qa", "ra", "sa", "ta", "ua", "m", "va", "T", "q", "U", "za", "Aa", "V", "W", "Ba", "X", "Ca", "Da", "Ea", "Fa", "Ga", "d", "n", "p", "wa", "y", "x", "r", "t", "xa", "ya", "Ia", "Ha", "Y", "Ja", "Ka", "La", "Ma", "Z", "Na", "Oa", "ortWasmFactory", "ortWasmFactoryThreaded", "wasm", "initialized", "initializing", "aborted", "isMultiThreadSupported", "isSimdSupported", "getWasmFileName", "initializeWebAssembly", "getInstance", "init_wasm_factory", "__esmMin", "numThreads", "useSimd", "useThreads", "flags", "timeout", "simd", "wasmPaths", "wasmPrefixOverride", "wasmFileName", "wasmPathOverride", "isTimeout", "tasks", "resolve", "reject", "fileName", "scriptDirectory", "module", "what", "allocWasmString", "iterateExtraOptions", "checkLastError", "init_wasm_utils", "__esmMin", "init_wasm_factory", "data", "allocs", "wasm", "getInstance", "dataLength", "dataOffset", "options", "prefix", "seen", "handler", "key", "value", "name", "message", "stack", "paramsOffset", "errorCode", "errorMessagePointer", "errorMessage", "setRunOptions", "init_run_options", "__esmMin", "init_wasm_factory", "init_wasm_utils", "options", "wasm", "getInstance", "runOptionsHandle", "allocs", "runOptions", "tagDataOffset", "allocWasmString", "checkLastError", "iterateExtraOptions", "key", "value", "keyDataOffset", "valueDataOffset", "e", "alloc", "getGraphOptimzationLevel", "getExecutionMode", "appendDefaultOptions", "setExecutionProviders", "setSessionOptions", "init_session_options", "__esmMin", "init_wasm_factory", "init_wasm_utils", "graphOptimizationLevel", "executionMode", "options", "session", "ep", "sessionOptionsHandle", "executionProviders", "allocs", "epName", "webnnOptions", "keyDataOffset", "allocWasmString", "valueDataOffset", "getInstance", "checkLastError", "numThreads", "webgpuOptions", "epNameDataOffset", "wasm", "sessionOptions", "logIdDataOffset", "logSeverityLevel", "logVerbosityLevel", "optimizedModelFilePathOffset", "name", "value", "nameOffset", "iterateExtraOptions", "key", "e", "alloc", "tensorDataTypeStringToEnum", "tensorDataTypeEnumToString", "getTensorElementSize", "tensorTypeToTypedArrayConstructor", "logLevelStringToEnum", "isGpuBufferSupportedType", "dataLocationStringToEnum", "init_wasm_common", "__esmMin", "type", "typeProto", "dateType", "logLevel", "location", "fs", "import_promises", "loadFile", "init_wasm_utils_load_file", "__esmMin", "file", "e", "stream", "chunks", "chunk", "response", "contentLengthHeader", "fileSize", "reader", "buffer", "pages", "offset", "done", "value", "chunkSize", "initOrt", "initRuntime", "initEp", "activeSessions", "getSessionInputOutputCount", "copyFromExternalBuffer", "createSession", "releaseSession", "prepareInputOutputTensor", "run", "endProfiling", "init_wasm_core_impl", "__esmMin", "init_run_options", "init_session_options", "init_wasm_common", "init_wasm_factory", "init_wasm_utils", "init_wasm_utils_load_file", "numThreads", "loggingLevel", "getInstance", "checkLastError", "env", "logLevelStringToEnum", "epName", "sessionHandle", "wasm", "stack", "dataOffset", "model", "modelDataOffset", "modelData", "options", "modelDataLength", "sessionOptionsHandle", "ioBindingHandle", "allocs", "inputNamesUTF8Encoded", "outputNamesUTF8Encoded", "setSessionOptions", "loadingPromises", "file", "path", "loadFile", "data", "inputCount", "outputCount", "enableGraphCapture", "inputNames", "outputNames", "outputPreferredLocations", "i", "name", "nameString", "bindingState", "e", "buf", "alloc", "sessionId", "session", "ioBindingState", "tensor", "tensorHandles", "index", "dataType", "dims", "location", "rawData", "dataByteLength", "gpuBuffer", "elementSizeInBytes", "getTensorElementSize", "tensorDataTypeStringToEnum", "a", "b", "registerBuffer", "dataIndex", "allocWasmString", "dimsOffset", "dimIndex", "d", "dataLocationStringToEnum", "inputIndices", "inputTensors", "outputIndices", "outputTensors", "inputOutputBound", "runOptionsHandle", "runOptionsAllocs", "inputTensorHandles", "outputTensorHandles", "inputOutputAllocs", "beforeRunStack", "inputValuesOffset", "inputNamesOffset", "outputValuesOffset", "outputNamesOffset", "setRunOptions", "inputValuesIndex", "inputNamesIndex", "outputValuesIndex", "outputNamesIndex", "errorCode", "output", "beforeGetTensorDataStack", "tensorDataOffset", "keepOutputTensor", "type", "tensorDataIndex", "dimsLength", "size", "tensorDataTypeEnumToString", "preferredLocation", "stringData", "offset", "maxBytesToRead", "getBuffer", "elementSize", "isGpuBufferSupportedType", "typedArrayConstructor", "tensorTypeToTypedArrayConstructor", "v", "p", "profileFileName", "import_onnxruntime_common", "initializing", "initialized", "aborted", "scriptSrc", "initializeWebAssemblyAndOrtRuntime", "initializeOrtEp", "copyFromExternalBuffer", "createSession", "releaseSession", "run", "endProfiling", "init_proxy_wrapper", "__esmMin", "init_wasm_core_impl", "init_wasm_factory", "initializeWebAssembly", "initRuntime", "e", "epName", "initEp", "buffer", "model", "options", "sessionId", "inputIndices", "inputs", "outputIndices", "outputs", "import_onnxruntime_common", "encodeTensorMetadata", "decodeTensorMetadata", "OnnxruntimeWebAssemblySessionHandler", "init_session_handler_inference", "__esmMin", "init_proxy_wrapper", "init_wasm_common", "init_wasm_utils_load_file", "tensor", "getName", "dataType", "isGpuBufferSupportedType", "gpuBuffer", "download", "dispose", "path", "copyFromExternalBuffer", "loadFile", "pathOrBuffer", "options", "model", "createSession", "releaseSession", "feeds", "fetches", "inputArray", "inputIndices", "kvp", "name", "index", "outputArray", "outputIndices", "inputs", "t", "i", "outputs", "results", "run", "resultMap", "endProfiling", "import_node_os", "import_onnxruntime_common", "initializeFlags", "OnnxruntimeWebAssemblyBackend", "init_backend_wasm", "__esmMin", "init_proxy_wrapper", "init_session_handler_inference", "numCpuLogicalCores", "backendName", "initializeWebAssemblyAndOrtRuntime", "initializeOrtEp", "pathOrBuffer", "options", "handler", "OnnxruntimeWebAssemblySessionHandler", "backend_wasm_inference_exports", "__export", "wasmBackend", "init_backend_wasm_inference", "__esmMin", "init_backend_wasm", "OnnxruntimeWebAssemblyBackend", "lib_exports", "__export", "lib_default", "__toCommonJS", "__reExport", "ort", "import_onnxruntime_common", "version", "lib_default", "ort", "wasmBackend", "version"]
}
